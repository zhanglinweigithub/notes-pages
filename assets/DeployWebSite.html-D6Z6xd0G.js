import{_ as i,r as l,o as e,c as r,e as s,f as p,g as d,a}from"./app-Vg0IViah.js";const o="/notes-pages/assets/image-20240210140553826-BiGaLFHN.png",c="/notes-pages/assets/image-20240210140847822-CxzYpWVr.png",t={},k=a(`<h1 id="搭建个人网站" tabindex="-1"><a class="header-anchor" href="#搭建个人网站"><span>搭建个人网站</span></a></h1><h2 id="一、服务器方式" tabindex="-1"><a class="header-anchor" href="#一、服务器方式"><span>一、服务器方式</span></a></h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p>参考抖音程序员小山与BUG的视频</p></div><p>1、首先要有一台服务器，完成域名备案</p><p>2、自定义root用户密码</p><p>3、设置安全组，放开 22、443、80端口</p><p>4、使用root账号登录到服务器</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 创建新用户</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">useradd</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> zlw</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 设置密码</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">passwd</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> zlw</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">输入密码</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 为新用户增加sudo权限</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">vim</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /etc/sudoers</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 找到 root ALL=(ALL)	ALL 这一行，在下面添加</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">zlw</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> ALL=</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">ALL</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)	ALL</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 关闭root用户的远程登录</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">vim</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /etc/ssh/sshd_config</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 找到 RootLogin yes 这一行, 将其改为no</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 重启sshd服务</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">service</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> sshd</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> restart</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5、使用新创建的用户连接远程服务器</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">ssh</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> zlw@ip</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">yes</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">密码</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>6、切换到root</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sudo</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> su</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">密码</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>7、安装Nginx</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 安装epel库</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">yum</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> install</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> epel-release</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 安装nginx</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">yum</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> install</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> nginx</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>8、将编译好的文件传到服务器</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 新开一个终端</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">cd</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> Desktop/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">scp</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> ./dist.zip</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> zlw@ip:/home/zlw</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">输入密码</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 进入服务器</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">mkdir</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> -p</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /data/webroot/notes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">yum</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> install</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> zip</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> unzip</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">unzip</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /home/zlw/dist.zip</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> -d</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /data/webroot/notes</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>9、配置Nginx</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">cd</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /etc/nginx/</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">vim</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> nginx.conf</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 删除默认的 server</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 在 include /etc/nginx/conf.d/*.conf; 下新增</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">include</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> vhost/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">*</span><span style="color:#CE9178;--shiki-dark:#CE9178;">.conf</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">mkidr</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> vhost</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">cd</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> vhost</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">vim</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> notes.zlw.com.conf</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 配置略</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">nginx</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> -t</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">service</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> nginx</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> start</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>10、配置https证书</p>`,19),C={href:"https://certbot.eff.org",target:"_blank",rel:"noopener noreferrer"},h=a('<figure><img src="'+o+`" alt="image-20240210140553826" tabindex="0" loading="lazy"><figcaption>image-20240210140553826</figcaption></figure><p>安装启动<code>snapd</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">yum</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> install</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> snapd</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">service</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> snapd</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> start</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>安装<code>certbot</code></p><figure><img src="`+c+`" alt="image-20240210140847822" tabindex="0" loading="lazy"><figcaption>image-20240210140847822</figcaption></figure><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">snap</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> install</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> --classic</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> certbot</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">ln</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> -s</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /snap/bin/certbot</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /usr/bin/certbot</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 正常访问http会自动跳转到https</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">cerbot</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 如不想自动跳转则添加 --no-redirect</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">cerbot</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> --no-redirect</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 第一次使用需要设置邮箱，证书三个月到期，会自动通知，免费续期</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 会自动检测你的域名，通过序号选择</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>遇到如下报错，则需要做一个软链接</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">error:</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> cannot</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> install</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &quot;certbot&quot;:</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> classic</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> confinement</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> requires</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> snaps</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> under</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /snap</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> or</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> symlink</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /snap</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> to</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /var/lib/snapd/snap</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># /var/lib/snapd/snap 链接到 /snap</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">ln</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> -s</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /var/lib/snapd/snap</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> /snap</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># 重试安装</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">snap</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> install</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> --classic</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> certbot</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h2 id="二、git-pages、github-pages" tabindex="-1"><a class="header-anchor" href="#二、git-pages、github-pages"><span>二、Git Pages、GitHub Pages</span></a></h2><p>使用<code>VuePress</code>等模板快速搭建</p>`,9);function D(v,A){const n=l("ExternalLinkIcon");return e(),r("div",null,[k,s("p",null,[s("a",C,[p("certbot"),d(n)])]),h])}const u=i(t,[["render",D],["__file","DeployWebSite.html.vue"]]),b=JSON.parse('{"path":"/Other/DeployWebSite.html","title":"搭建个人网站","lang":"zh-CN","frontmatter":{"category":"其它"},"headers":[{"level":2,"title":"一、服务器方式","slug":"一、服务器方式","link":"#一、服务器方式","children":[]},{"level":2,"title":"二、Git Pages、GitHub Pages","slug":"二、git-pages、github-pages","link":"#二、git-pages、github-pages","children":[]}],"git":{"createdTime":1708330205000,"updatedTime":1708873062000,"contributors":[{"name":"zhanglinwei","email":"3498729975@qq.com","commits":2}]},"readingTime":{"minutes":1.57,"words":472},"filePathRelative":"Other/DeployWebSite.md","localizedDate":"2024年2月19日"}');export{u as comp,b as data};
