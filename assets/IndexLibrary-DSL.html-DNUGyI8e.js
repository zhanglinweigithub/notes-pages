import{_ as d}from"./image-20230730140006697-BTxqRfE_.js";import{_ as p,r,o as t,c as k,e as s,f as a,g as e,w as i,a as D}from"./app-Vg0IViah.js";const h="/notes-pages/assets/image-20230730140240160-gWHD3Cgx.png",u="/notes-pages/assets/image-20230730140906397-D_lJVobB.png",C="/notes-pages/assets/image-20230730141126069-CXRzGYJM.png",y="/notes-pages/assets/image-20230730141205261-Bms1tUin.png",m={},E=s("h1",{id:"索引库操作-dsl",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#索引库操作-dsl"},[s("span",null,"索引库操作-DSL")])],-1),v=s("h2",{id:"一、mapping映射属性",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#一、mapping映射属性"},[s("span",null,"一、mapping映射属性")])],-1),b=s("code",null,"mapping",-1),g={href:"https://www.elastic.co/guide/en/elasticsearch/reference/6.0/mapping-params.html",target:"_blank",rel:"noopener noreferrer"},F=D(`<p><code>mapping</code>是对索引库中文档的约束，常见的<code>mapping</code>属性包括：</p><ul><li><code>type</code>：字段数据类型，常见的简单类型有： <ul><li>字符串：<code>text</code>（可分词的文本）、<code>keyword</code>（精确值，例如：品牌、国家、ip地址）</li><li>数值：<code>long、integer、short、byte、double、float</code></li><li>布尔：<code>boolean</code></li><li>日期：<code>date</code></li><li>对象：<code>object</code></li></ul></li><li><code>index</code>：是否创建索引，默认为<code>true</code></li><li><code>analyzer</code>：使用哪种分词器</li><li><code>properties</code>：该字段的子字段</li></ul><p>例如下面的<code>json</code>文档：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    &quot;age&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">21</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    &quot;weight&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">52.1</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    &quot;isMarried&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#569CD6;--shiki-dark:#569CD6;">false</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    &quot;info&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;一名Java工程师&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    &quot;email&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;123456@qq.com&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    &quot;score&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: [</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">99.1</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">99.5</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">98.9</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">],</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    &quot;name&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">        &quot;firstName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;zhang&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">        &quot;lastName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;linwei&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对应的每个字段映射（mapping）：</p><ul><li><code>age</code>：类型为 <code>integer</code>；参与搜索，因此需要<code>index</code>为<code>true</code>；无需分词器</li><li><code>weight</code>：类型为<code>float</code>；参与搜索，因此需要<code>index</code>为<code>true</code>；无需分词器</li><li><code>isMarried</code>：类型为<code>boolean</code>；参与搜索，因此需要<code>index</code>为<code>true</code>；无需分词器</li><li><code>info</code>：类型为字符串，需要分词，因此是<code>text</code>；参与搜索，因此需要<code>index</code>为<code>true</code>；分词器可以用<code>ik_smart</code></li><li><code>email</code>：类型为字符串，但是不需要分词，因此是<code>keyword</code>；不参与搜索，因此需要<code>index</code>为<code>false</code>；无需分词器</li><li><code>score</code>：虽然是数组，但是我们只看元素的类型，类型为<code>float</code>；参与搜索，因此需要<code>index</code>为<code>true</code>；无需分词器</li><li><code>name</code>：类型为<code>object</code>，需要定义多个子属性 <ul><li><code>name.firstName</code>；类型为字符串，但是不需要分词，因此是<code>keyword</code>；参与搜索，因此需要<code>index</code>为<code>true</code>；无需分词器</li><li><code>name.lastName</code>；类型为字符串，但是不需要分词，因此是<code>keyword</code>；参与搜索，因此需要<code>index</code>为<code>true</code>；无需分词器</li></ul></li></ul><h2 id="二、创建索引库" tabindex="-1"><a class="header-anchor" href="#二、创建索引库"><span>二、创建索引库</span></a></h2><ul><li>请求方式：<code>PUT</code></li><li>请求路径：<code>/索引库名</code>，可以自定义</li><li>请求参数：<code>mapping</code>映射</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span>PUT /索引库名称</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>	&quot;mappings&quot;: {</span></span>
<span class="line"><span>	</span></span>
<span class="line"><span>	}</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9),x=s("div",{class:"language-json line-numbers-mode","data-ext":"json","data-title":"json"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"PUT /索引库名称")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'  "mappings"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'    "properties"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'      "字段名1"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},":{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'        "type"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"text"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"// 指定字段类型")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'        "analyzer"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"ik_smart"'),s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}}," // 指定分词器")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"      },")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'      "字段名2"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},":{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'        "type"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"keyword"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"// 不可以分词")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'        "index"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"false"'),s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}}," // 不参与搜索")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"      },")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'      "字段名3"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},":{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'        "properties"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'          "子字段1"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'            "type"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"keyword"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"          }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"        }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"      },")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"      // ...略")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"  }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),_=s("div",{class:"language-json line-numbers-mode","data-ext":"json","data-title":"json"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"PUT /zhang")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'  "mappings"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'    "properties"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'      "info"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'        "type"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"text"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'        "analyzer"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"ik_smart"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"      },")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'      "email"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'        "type"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"keyword"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'        "index"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"false"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"      },")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'      "name"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'        "properties"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'          "firstName"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'            "type"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"keyword"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"          },")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'          "lastName"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'            "type"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"keyword"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"          }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"        }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"      }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"      // ...")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"  }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"// 运行后出现如下表示成功")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'  "acknowledged"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," : "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"true"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'  "shards_acknowledged"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," : "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"true"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'  "index"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," : "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"zhang"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),f=D(`<p>对应<code>JSON</code></p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    &quot;info&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;一名Java工程师&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    &quot;email&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;123456@qq.com&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    &quot;name&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">        &quot;firstName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;云&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">        &quot;lastName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;赵&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+d+`" alt="image-20230730140006697" tabindex="0" loading="lazy"><figcaption>image-20230730140006697</figcaption></figure><h2 id="三、查询索引库" tabindex="-1"><a class="header-anchor" href="#三、查询索引库"><span>三、查询索引库</span></a></h2><ul><li><p>请求方式：<code>GET</code></p></li><li><p>请求路径：<code>/索引库名</code></p></li><li><p>请求参数：无</p></li></ul><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">GET /索引库名</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+h+'" alt="image-20230730140240160" tabindex="0" loading="lazy"><figcaption>image-20230730140240160</figcaption></figure><h2 id="四、修改索引库" tabindex="-1"><a class="header-anchor" href="#四、修改索引库"><span>四、修改索引库</span></a></h2><p>倒排索引结构虽然不复杂，但是一旦数据结构改变（比如改变了分词器），就需要重新创建倒排索引，这简直是灾难。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><ul><li>索引库<strong>一旦创建，无法修改mapping</strong></li><li>虽然无法修改<code>mapping</code>中已有的字段，但是却允许添加新的字段到<code>mapping</code>中，因为不会对倒排索引产生影响。</li></ul></div><ul><li><p>请求方式：<code>PUT</code></p></li><li><p>请求路径：<code>/索引库名/_mapping</code></p></li><li><p>请求参数：<code>properties</code></p></li></ul>',11),q=s("div",{class:"language-json line-numbers-mode","data-ext":"json","data-title":"json"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"PUT /索引库名/_mapping")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'  "properties"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'    "新字段名"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},":{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'      "type"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"integer"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"  }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),A=s("div",{class:"language-json line-numbers-mode","data-ext":"json","data-title":"json"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"// 添加一个新的 age 字段")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"PUT /zhang/_mapping")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"{")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'  "properties"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'    "age"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},'      "type"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},": "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"integer"')]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"  }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),j=D('<figure><img src="'+u+`" alt="image-20230730140906397" tabindex="0" loading="lazy"><figcaption>image-20230730140906397</figcaption></figure><h2 id="五、删除索引库" tabindex="-1"><a class="header-anchor" href="#五、删除索引库"><span>五、删除索引库</span></a></h2><ul><li><p>请求方式：<code>DELETE</code></p></li><li><p>请求路径：<code>/索引库名</code></p></li><li><p>请求参数：无</p></li></ul><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">DELETE /索引库名</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+C+'" alt="image-20230730141126069" tabindex="0" loading="lazy"><figcaption>image-20230730141126069</figcaption></figure><p>再次查询，会发现找不到索引库</p><figure><img src="'+y+'" alt="image-20230730141205261" tabindex="0" loading="lazy"><figcaption>image-20230730141205261</figcaption></figure>',7);function w(T,z){const c=r("ExternalLinkIcon"),o=r("CodeTabs");return t(),k("div",null,[E,v,s("p",null,[a("全部"),b,a("属性可参考文档："),s("a",g,[a("https://www.elastic.co/guide/en/elasticsearch/reference/6.0/mapping-params.html"),e(c)])]),F,e(o,{id:"138",data:[{id:"语法"},{id:"示例"}]},{title0:i(({value:l,isActive:n})=>[a("语法")]),title1:i(({value:l,isActive:n})=>[a("示例")]),tab0:i(({value:l,isActive:n})=>[x]),tab1:i(({value:l,isActive:n})=>[_]),_:1}),f,e(o,{id:"214",data:[{id:"语法"},{id:"示例"}]},{title0:i(({value:l,isActive:n})=>[a("语法")]),title1:i(({value:l,isActive:n})=>[a("示例")]),tab0:i(({value:l,isActive:n})=>[q]),tab1:i(({value:l,isActive:n})=>[A]),_:1}),j])}const L=p(m,[["render",w],["__file","IndexLibrary-DSL.html.vue"]]),S=JSON.parse('{"path":"/Use/Java/ElasticSearch/IndexLibrary-DSL.html","title":"索引库操作-DSL","lang":"zh-CN","frontmatter":{"order":2,"category":"使用篇"},"headers":[{"level":2,"title":"一、mapping映射属性","slug":"一、mapping映射属性","link":"#一、mapping映射属性","children":[]},{"level":2,"title":"二、创建索引库","slug":"二、创建索引库","link":"#二、创建索引库","children":[]},{"level":2,"title":"三、查询索引库","slug":"三、查询索引库","link":"#三、查询索引库","children":[]},{"level":2,"title":"四、修改索引库","slug":"四、修改索引库","link":"#四、修改索引库","children":[]},{"level":2,"title":"五、删除索引库","slug":"五、删除索引库","link":"#五、删除索引库","children":[]}],"git":{"createdTime":1708330205000,"updatedTime":1708873062000,"contributors":[{"name":"zhanglinwei","email":"3498729975@qq.com","commits":2}]},"readingTime":{"minutes":2.88,"words":865},"filePathRelative":"Use/Java/ElasticSearch/IndexLibrary-DSL.md","localizedDate":"2024年2月19日"}');export{L as comp,S as data};
