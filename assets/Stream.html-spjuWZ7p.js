import{_ as s,o as a,c as D,a as n}from"./app-Vg0IViah.js";const i={},l=n(`<h1 id="stream流" tabindex="-1"><a class="header-anchor" href="#stream流"><span>Stream流</span></a></h1><h2 id="一、创建stream流" tabindex="-1"><a class="header-anchor" href="#一、创建stream流"><span>一、创建Stream流</span></a></h2><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 单列集合 list、set...</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">xxx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 双列集合</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">map</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">entry</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">xxx</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">map</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">keySet</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">xxx</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 数组</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Arrays</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(arr).</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">xxx</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 零散数据</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">of</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">1</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">2</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">3</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">).</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">xxx</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、中间方法" tabindex="-1"><a class="header-anchor" href="#二、中间方法"><span>二、中间方法</span></a></h2><p>中间方法会返回一个流，还可以继续执行中间方法，实现链式编程</p><h3 id="_1、filter-过滤" tabindex="-1"><a class="header-anchor" href="#_1、filter-过滤"><span>1、filter 过滤</span></a></h3><p>返回为 <code>true</code> 的数据</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">filter</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(item </span><span style="color:#569CD6;--shiki-dark:#569CD6;">-&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">    // something...</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">    return</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &quot;张三&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">equals</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">item</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">getName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">());</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、limit-截取" tabindex="-1"><a class="header-anchor" href="#_2、limit-截取"><span>2、limit 截取</span></a></h3><p>获取前几个元素</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// list[1, 2, 3, 4, 5]</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">limit</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">3</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">).</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">xxx</span><span style="color:#6A9955;--shiki-dark:#6A9955;"> // 1 2 3</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>可与 <code>skip</code> 配合，实现手动分页</p></div><h3 id="_3、skip-跳过" tabindex="-1"><a class="header-anchor" href="#_3、skip-跳过"><span>3、skip 跳过</span></a></h3><p>跳过前几个元素</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// list[1, 2, 3, 4, 5]</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">skip</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">3</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">).</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">xxx</span><span style="color:#6A9955;--shiki-dark:#6A9955;"> // 4 5</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、distinct-去重" tabindex="-1"><a class="header-anchor" href="#_4、distinct-去重"><span>4、distinct 去重</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// list[1, 2, 3, 3, 4, 4, 5, 5]</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">distinct</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">xxx</span><span style="color:#6A9955;--shiki-dark:#6A9955;"> // 1 2 3 4 5</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5、map-映射" tabindex="-1"><a class="header-anchor" href="#_5、map-映射"><span>5、map 映射</span></a></h3><p>将返回值收集成新的集合</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">List</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Student</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt; </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">stu</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#C586C0;--shiki-dark:#C586C0;">new</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;"> ArrayList</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">stu</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">map</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(e </span><span style="color:#569CD6;--shiki-dark:#569CD6;">-&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">    // e 为list中的每一个Student对象</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">    // something...</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">    return</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> e</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">getName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(); </span><span style="color:#6A9955;--shiki-dark:#6A9955;">// 会返回stu中所有Student对象的名字</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">}).</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">xxx</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6、sort-排序" tabindex="-1"><a class="header-anchor" href="#_6、sort-排序"><span>6、sort 排序</span></a></h3><div class="hint-container warning"><p class="hint-container-title">注意</p><p>排序字段若存在null值，会报空指针异常</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// nullsLast是值将空值放最后，nullsFirst同理</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sorted</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">comparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(User</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">getId, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">nullsLast</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reverseOrder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()))</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">collect</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Collectors</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">toList</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">());</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 1.对象集合以类属性一升序排序</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sorted</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">comparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性一));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 2.对象集合以类属性一降序排序 注意两种写法</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// (1)先以属性一升序,结果进行属性一降序</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sorted</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">comparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性一).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reversed</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">());</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// (2)以属性一降序</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sorted</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">comparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性一,</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reverseOrder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 3.对象集合以 类属性一升序 属性二升序</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sorted</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">comparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性一).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">thenComparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性二));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 4.对象集合 以类属性一降序 属性二升序 注意两种写法</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// (1)先以属性一升序, 升序结果进行属性一降序, 再进行属性二升序</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sorted</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">comparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性一).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reversed</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">thenComparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性二));</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// (2)先以属性一降序, 再进行属性二升序</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sorted</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">comparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性一,</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reverseOrder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">thenComparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性二));</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 5.对象集合 以类属性一降序 属性二降序 注意两种写法</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// (1)先以属性一升序, 升序结果进行属性一降序, 再进行属性二降序</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sorted</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">comparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性一).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reversed</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">thenComparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性二,</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reverseOrder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()));</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// (2)先以属性一降序, 再进行属性二降序</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sorted</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">comparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性一,</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reverseOrder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">thenComparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性二,</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reverseOrder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()));</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 6.对象集合 以类属性一升序 属性二降序 注意两种写法</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// (1)先以属性一升序, 升序结果进行属性一降序, 再进行属性二升序, 结果进行属性一降序属性二降序</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sorted</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">comparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性一).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reversed</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">thenComparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性二).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reversed</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()); </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// (2)先以属性一升序, 再进行属性二降序 </span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sorted</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">comparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性一).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">thenComparing</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(类</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">属性二,</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Comparator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reverseOrder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()));</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7、reduce" tabindex="-1"><a class="header-anchor" href="#_7、reduce"><span>7、reduce</span></a></h3><p><strong>1）求和</strong></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Integer</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">scores</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reduce</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(Integer</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">sum).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">orElse</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">0</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Long</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">scores</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reduce</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(Long</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">sum).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">orElse</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">0L</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Double</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">scores</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reduce</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(Double</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">sum).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">orElse</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">0.00</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">BigDecimal</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">scores</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reduce</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(BigDecimal</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">add).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">orElse</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">BigDecimal</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">ZERO</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>注意空指针处理</p></div><h3 id="_8、maptoxxx" tabindex="-1"><a class="header-anchor" href="#_8、maptoxxx"><span>8、mapToxxx</span></a></h3><p><strong>1）求和</strong></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Integer</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">sales</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">mapToInt</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(Sale</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">getOrderNum).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Long</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">sales</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">mapToLong</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(Sale</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">getOrderNum).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Double</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">sales</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">mapToDouble</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(Sale</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">getOrderNum).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">BigDecimal</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">sales</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">map</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(Sale</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">getAppleSale).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reduce</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">BigDecimal</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">ZERO</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, BigDecimal</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">add);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>注意空指针处理</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Integer</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">sales</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">mapToInt</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    item </span><span style="color:#569CD6;--shiki-dark:#569CD6;">-&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> item != </span><span style="color:#569CD6;--shiki-dark:#569CD6;">null</span><span style="color:#C586C0;--shiki-dark:#C586C0;"> ?</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> item</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">getOrderNum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">() </span><span style="color:#C586C0;--shiki-dark:#C586C0;">:</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;"> 0</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">sum</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h2 id="三、终结方法" tabindex="-1"><a class="header-anchor" href="#三、终结方法"><span>三、终结方法</span></a></h2><p>终结方法不会返回流，而是返回一个结果，不能在继续进行操作</p><h3 id="_1、foreach-循环" tabindex="-1"><a class="header-anchor" href="#_1、foreach-循环"><span>1、forEach 循环</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// list[1, 2, 3, 3, 4, 4, 5, 5]</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">distinct</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">forEach</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(e </span><span style="color:#569CD6;--shiki-dark:#569CD6;">-&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    System</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">out</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">print</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(e);</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">}); </span><span style="color:#6A9955;--shiki-dark:#6A9955;">// 1 2 3 4 5</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、count-统计" tabindex="-1"><a class="header-anchor" href="#_2、count-统计"><span>2、count 统计</span></a></h3><p>经过流处理后流中的元素个数</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// list[1, 2, 3, 3, 4, 4, 5, 5]</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">list</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">distinct</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">count</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(); </span><span style="color:#6A9955;--shiki-dark:#6A9955;">// 5</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、collect-收集" tabindex="-1"><a class="header-anchor" href="#_3、collect-收集"><span>3、collect 收集</span></a></h3><p><strong>收集为List</strong></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">List</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Student</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt; </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">stu</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#C586C0;--shiki-dark:#C586C0;">new</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;"> ArrayList</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">List</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">String</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt; </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">studentNameList</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">stu</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">map</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(e </span><span style="color:#569CD6;--shiki-dark:#569CD6;">-&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">    // e 为list中的每一个Student对象</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">    // something...</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">    return</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> e</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">getName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(); </span><span style="color:#6A9955;--shiki-dark:#6A9955;">// 会返回stu中所有Student对象的名字</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">}).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">collect</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Collectors</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">toList</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()); </span><span style="color:#6A9955;--shiki-dark:#6A9955;">//会返回所有student的名字的list集合</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>收集为Set</strong></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">List</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Student</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt; </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">stu</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#C586C0;--shiki-dark:#C586C0;">new</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;"> ArrayList</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Set</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">String</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt; </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">studentNameSet</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">stu</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">map</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(e </span><span style="color:#569CD6;--shiki-dark:#569CD6;">-&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">    // e 为list中的每一个Student对象</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">    // something...</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">    return</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> e</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">getName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(); </span><span style="color:#6A9955;--shiki-dark:#6A9955;">// 会返回stu中所有Student对象的名字</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">}).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">collect</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Collectors</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">toSet</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">())  </span><span style="color:#6A9955;--shiki-dark:#6A9955;">// 会返回所有student的名字的set集合</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>收集为Map</strong></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">List</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Student</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt; </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">stu</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#C586C0;--shiki-dark:#C586C0;">new</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;"> ArrayList</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">//&lt;id, Student&gt;</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Map</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Long</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Student</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt; </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">studentMap</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">stu</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">map</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(e </span><span style="color:#569CD6;--shiki-dark:#569CD6;">-&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">    // e 为list中的每一个Student对象</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">    // something...</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">    return</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> e; </span><span style="color:#6A9955;--shiki-dark:#6A9955;">// 会返回stu中所有Student对象的名字</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">}).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">collect</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Collectors</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">toMap</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(Student</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">getId</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(), item </span><span style="color:#569CD6;--shiki-dark:#569CD6;">-&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> item))</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>收集为<code>map</code>时，<code>value</code>不能为<code>null</code>，否则会产生空指针异常</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 解决方式一：对空判断</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Collectors</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">toMap</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    Student</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">getId</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(), item </span><span style="color:#569CD6;--shiki-dark:#569CD6;">-&gt;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> Objects</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">nonNull</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">item</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">getName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()) </span><span style="color:#C586C0;--shiki-dark:#C586C0;">?</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> item</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">getName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">() </span><span style="color:#C586C0;--shiki-dark:#C586C0;">:</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &quot;&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 解决方式二：Optional</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Collectors</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">toMap</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    Student</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">getId</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(), item </span><span style="color:#569CD6;--shiki-dark:#569CD6;">-&gt;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> Optional</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">ofNullable</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">item</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">getName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">orElse</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p><strong>根据指定字段分组</strong></p><p>会将<code>key</code>一样的对象收集为集合存储在<code>map</code>中</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// &lt;userName, List&lt;User&gt;&gt;</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Map</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">Long</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">List</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">User</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt;&gt; </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">userRoleMap</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">userList</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">stream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">collect</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    Collectors</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">groupingBy</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(User</span><span style="color:#C586C0;--shiki-dark:#C586C0;">::</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">getUserName, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">Collectors</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">toList</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">())</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,49),r=[l];function p(e,o){return a(),D("div",null,r)}const d=s(i,[["render",p],["__file","Stream.html.vue"]]),t=JSON.parse('{"path":"/Use/Java/Java/Stream.html","title":"Stream流","lang":"zh-CN","frontmatter":{"category":"使用篇"},"headers":[{"level":2,"title":"一、创建Stream流","slug":"一、创建stream流","link":"#一、创建stream流","children":[]},{"level":2,"title":"二、中间方法","slug":"二、中间方法","link":"#二、中间方法","children":[{"level":3,"title":"1、filter 过滤","slug":"_1、filter-过滤","link":"#_1、filter-过滤","children":[]},{"level":3,"title":"2、limit 截取","slug":"_2、limit-截取","link":"#_2、limit-截取","children":[]},{"level":3,"title":"3、skip 跳过","slug":"_3、skip-跳过","link":"#_3、skip-跳过","children":[]},{"level":3,"title":"4、distinct 去重","slug":"_4、distinct-去重","link":"#_4、distinct-去重","children":[]},{"level":3,"title":"5、map 映射","slug":"_5、map-映射","link":"#_5、map-映射","children":[]},{"level":3,"title":"6、sort 排序","slug":"_6、sort-排序","link":"#_6、sort-排序","children":[]},{"level":3,"title":"7、reduce","slug":"_7、reduce","link":"#_7、reduce","children":[]},{"level":3,"title":"8、mapToxxx","slug":"_8、maptoxxx","link":"#_8、maptoxxx","children":[]}]},{"level":2,"title":"三、终结方法","slug":"三、终结方法","link":"#三、终结方法","children":[{"level":3,"title":"1、forEach 循环","slug":"_1、foreach-循环","link":"#_1、foreach-循环","children":[]},{"level":3,"title":"2、count 统计","slug":"_2、count-统计","link":"#_2、count-统计","children":[]},{"level":3,"title":"3、collect 收集","slug":"_3、collect-收集","link":"#_3、collect-收集","children":[]}]}],"git":{"createdTime":1708330205000,"updatedTime":1710397942000,"contributors":[{"name":"zhanglinwei","email":"3498729975@qq.com","commits":5}]},"readingTime":{"minutes":3.93,"words":1180},"filePathRelative":"Use/Java/Java/Stream.md","localizedDate":"2024年2月19日"}');export{d as comp,t as data};
