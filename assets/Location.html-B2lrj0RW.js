import{_ as t,r,o as c,c as o,g as d,w as a,a as e,f as l,e as s}from"./app-Vg0IViah.js";const p={},k=e(`<h1 id="location块" tabindex="-1"><a class="header-anchor" href="#location块"><span>Location块</span></a></h1><div class="hint-container tip"><p class="hint-container-title">提示</p><p><code>nginx</code>根据用户请求的<code>URI</code>来匹配对应的<code>location</code>模块，匹配到哪个<code>location</code>，请求将被哪个<code>location</code>块中的配置项所处理</p></div><p><strong>语法：</strong></p><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">location</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> [修饰符] pattern {</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    …</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="一、匹配规则" tabindex="-1"><a class="header-anchor" href="#一、匹配规则"><span>一、匹配规则</span></a></h2><p>常用匹配规则：</p><table><thead><tr><th style="text-align:left;">修饰符</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:left;">空</td><td style="text-align:left;">无修饰符的前缀匹配，匹配前缀是你配置的（比如说你配的是 /aaa） 的url</td></tr><tr><td style="text-align:left;"><code>=</code></td><td style="text-align:left;">精确匹配</td></tr><tr><td style="text-align:left;"><code>~</code></td><td style="text-align:left;">正则表达式模式匹配，区分大小写</td></tr><tr><td style="text-align:left;"><code>~*</code></td><td style="text-align:left;">正则表达式模式匹配，不区分大小写</td></tr><tr><td style="text-align:left;"><code>^~</code></td><td style="text-align:left;"><code>^~</code>类型的前缀匹配，类似于无修饰符前缀匹配，不同的是，如果匹配到了，那么就停止后续匹配</td></tr><tr><td style="text-align:left;"><code>/</code></td><td style="text-align:left;">通用匹配，任何请求都会匹配到（只要你域名对，所有请求通吃！）</td></tr></tbody></table>`,7),h=s("div",{class:"language-nginx line-numbers-mode","data-ext":"nginx","data-title":"nginx"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"server"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	listen "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"8099;")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	location"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," /zhang {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"        # 不能省略, 否则默认使用http块中的类型，http块默认为下载 application/octet-stream")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"        default_type "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"text/plain;")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"		return"),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}}," 200"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'success'"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"	}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"zhang"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"     ✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang?    ✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang/    ✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"zhangAAA"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"  ✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang/mmm ✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhaNg     ❌")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/ZHANG     ❌")]),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),y=s("div",{class:"language-nginx line-numbers-mode","data-ext":"nginx","data-title":"nginx"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"server"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	listen "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"8099;")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	location"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#D16969","--shiki-dark":"#D16969"}},"/zhang "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"        # 不能省略, 否则默认使用http块中的类型，http块默认为下载 application/octet-stream")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"        default_type "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"text/plain;")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"		return"),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}}," 200"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'success'"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"	}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"zhang"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"      	✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang?		✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang/     	❌")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"zhangaaa"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"  	❌")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"ZHANG"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"      	❌")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang/a		❌")]),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),u=s("div",{class:"language-nginx line-numbers-mode","data-ext":"nginx","data-title":"nginx"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# ^表示开头，$表示结尾")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# 区分大小写 ~")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"server"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	listen "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"8099;")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	location"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," ~ "),s("span",{style:{color:"#D16969","--shiki-dark":"#D16969"}},"^/zhang$ "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"        # 不能省略, 否则默认使用http块中的类型，http块默认为下载 application/octet-stream")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"        default_type "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"text/plain;")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"		return"),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}}," 200"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'success'"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"	}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"zhang"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"      	✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang?     	✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang/     	❌")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"zhangaaa"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"   	❌")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang/mmm  	❌")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zaaag      	❌")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/ZHANG		 	❌")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# 不区分大小写 ~*")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"server {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"	listen "),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}},"8099"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	location"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," ~* "),s("span",{style:{color:"#D16969","--shiki-dark":"#D16969"}},"^/zhang$ "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"        # 不能省略, 否则默认使用http块中的类型，http块默认为下载 application/octet-stream")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"        default_type "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"text/plain;")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"		return"),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}}," 200"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'success'"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"	}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"ZHANG"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"      ✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"ZhAnG"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"      ✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang?     ✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang/     ❌")]),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),m=s("div",{class:"language-nginx line-numbers-mode","data-ext":"nginx","data-title":"nginx"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"server"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	listen "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"8099;")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	location"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," ^~ "),s("span",{style:{color:"#D16969","--shiki-dark":"#D16969"}},"/zhang "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"        # 不能省略, 否则默认使用http块中的类型，http块默认为下载 application/octet-stream")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"        default_type "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"text/plain;")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"		return"),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}}," 200"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'success'"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"	}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"zhang"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"     	✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang/    	✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang?    	✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"zhangaaa"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"  	✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhangaaa/a 	✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/zhang/aaa		✅")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/aaa/zhang 	❌")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://127.0.0.1:8099/ZHANG     	❌")]),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),v=s("div",{class:"language-nginx line-numbers-mode","data-ext":"nginx","data-title":"nginx"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"server"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	listen	"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"8099;")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	location"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," / {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"        # 不能省略, 否则默认使用http块中的类型，http块默认为下载 application/octet-stream")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"        default_type "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"text/plain;")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"		return"),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}}," 200"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'success'"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"	}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# 全部都会匹配上")]),l(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),b=e('<div class="hint-container tip"><p class="hint-container-title">优先级</p><p><code>=</code> &gt; <code>^~</code> &gt; <code>正则</code> &gt; <code>无修饰符的前缀匹配</code> &gt; <code>/</code></p><ol><li>优先走<code>精确匹配</code>，精确匹配命中时，直接走对应的<code>location</code>，停止之后的匹配动作。</li><li>无修饰符类型的前缀匹配和 <code>^~ 类型的前缀匹配</code>命中时，收集命中的匹配，对比出最长的那一条并存起来(最长指的是与请求<code>url</code>匹配度最高的那个<code>location</code>)。</li><li>如果步骤2中最长的那一条匹配<code>是^~类型的前缀匹配</code>，直接走此条匹配对应的<code>location</code>并<code>停止</code>后续匹配动作；如果步骤2<code>最长的那一条匹配</code>不是<code>^~</code>类型的前缀匹配（也就<code>是无修饰符的前缀匹配</code>），则<code>继续往下</code>匹配</li><li>按<code>location</code>的声明顺序，执行正则匹配，当找到第一个命中的正则<code>location</code>时，停止后续匹配。</li><li>都没匹配到，走通用匹配（ / ）（如果有配置的话），如果没配置通用匹配的话，上边也都没匹配上，到这里就是404了。</li></ol></div>',1);function C(g,E){const D=r("CodeTabs");return c(),o("div",null,[k,d(D,{id:"80",data:[{id:"无修饰符"},{id:"精确匹配 ="},{id:"正则"},{id:"前缀匹配 ^~"},{id:"通用匹配 /"}]},{title0:a(({value:n,isActive:i})=>[l("无修饰符")]),title1:a(({value:n,isActive:i})=>[l("精确匹配 =")]),title2:a(({value:n,isActive:i})=>[l("正则")]),title3:a(({value:n,isActive:i})=>[l("前缀匹配 ^~")]),title4:a(({value:n,isActive:i})=>[l("通用匹配 /")]),tab0:a(({value:n,isActive:i})=>[h]),tab1:a(({value:n,isActive:i})=>[y]),tab2:a(({value:n,isActive:i})=>[u]),tab3:a(({value:n,isActive:i})=>[m]),tab4:a(({value:n,isActive:i})=>[v]),_:1}),b])}const A=t(p,[["render",C],["__file","Location.html.vue"]]),_=JSON.parse('{"path":"/Use/Java/Nginx/Location.html","title":"Location块","lang":"zh-CN","frontmatter":{"category":"使用篇"},"headers":[{"level":2,"title":"一、匹配规则","slug":"一、匹配规则","link":"#一、匹配规则","children":[]}],"git":{"createdTime":1708330205000,"updatedTime":1708873062000,"contributors":[{"name":"zhanglinwei","email":"3498729975@qq.com","commits":2}]},"readingTime":{"minutes":2.76,"words":829},"filePathRelative":"Use/Java/Nginx/Location.md","localizedDate":"2024年2月19日"}');export{A as comp,_ as data};
