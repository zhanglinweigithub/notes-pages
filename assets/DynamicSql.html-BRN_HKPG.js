import{_ as s,o as a,c as n,a as l}from"./app-Vg0IViah.js";const i={},e=l(`<h1 id="xml文件中的标签、动态sql" tabindex="-1"><a class="header-anchor" href="#xml文件中的标签、动态sql"><span>XML文件中的标签、动态SQL</span></a></h1><div class="hint-container tip"><p class="hint-container-title">提示</p><p><code>Mybatis</code>提供了9种动态<code>sql</code>标签： <code>trim | where | set | foreach | if | choose | when | otherwise | bind</code></p><p>动态SQL支持使用方法</p></div><h2 id="xml中的大于、小于、等于" tabindex="-1"><a class="header-anchor" href="#xml中的大于、小于、等于"><span>XML中的大于、小于、等于</span></a></h2><p>在 <code>*.xml</code> 中使用常规的 <code>&lt;</code> <code>&gt;</code> <code>=</code> <code>&lt;=</code> <code>&gt;=</code> 会与<code>xml</code>的语法存在冲突</p><table><thead><tr><th>字符名称</th><th>sql符号</th><th>方法一</th><th>方法 二</th></tr></thead><tbody><tr><td>大于号</td><td>&gt;</td><td><code>&amp;gt;</code></td><td><code>&lt;![CDATA[ &gt; ]]&gt;</code></td></tr><tr><td>小于号</td><td>&lt;</td><td><code>&amp;lt;</code></td><td><code>&lt;![CDATA[ &lt; ]]&gt;</code></td></tr><tr><td>不等于</td><td>&lt;&gt;</td><td><code>&amp;lt;</code>&gt;</td><td><code>&lt;![CDATA[ &lt;&gt; ]]&gt;</code></td></tr><tr><td>大于等于号</td><td>&gt;=</td><td><code>&amp;gt;=</code></td><td><code>&lt;![CDATA[ &gt;= ]]&gt;</code></td></tr><tr><td>小于等于号</td><td>&lt;=</td><td><code>&amp;lt;=</code></td><td><code>&lt;![CDATA[ &lt;= ]]&gt;</code></td></tr><tr><td>与</td><td>&amp;</td><td><code>&amp;amp;</code></td><td><code>&lt;![CDATA[ &amp; ]]&gt;</code></td></tr><tr><td>单引号</td><td>’</td><td><code>&amp;apos;</code></td><td><code>&lt;![CDATA[ &#39; ]]&gt;</code></td></tr><tr><td>双引号</td><td>&quot;</td><td><code>&amp;quot;</code></td><td><code>&lt;![CDATA[ &quot; ]]&gt;</code></td></tr></tbody></table><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> \`age\`</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> &lt;= </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">10</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 方法一</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> id=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getUser&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  resultType=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userInfo&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">    select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">        where</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> \`age\`</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  &amp;lt;= #{age}</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 方法二</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> id=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getUser&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  resultType=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userInfo&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">    select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">        where</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> \`age\`</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  &lt;![CDATA[ &lt;= ]]&gt;  #{age}</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> id=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getUser&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  resultType=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userInfo&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">    select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        &lt;![CDATA[ where \`age\` &lt;= #{age} ]]&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>方法一：为<code>xml</code> 原生转义的方式进行转义</p><p>方法二：在 <code>xml</code> 格式中，当遇到 <code>&lt;![CDATA[ ]]&gt;</code> 这种格式时，会把方块中的内容直接输出，不做任何的解析转义</p><ul><li><code>&lt;![CDATA[]]&gt;</code> 表示<code>xml</code>解析器忽略解析，相对比速度会比较快</li></ul></div><div class="hint-container warning"><p class="hint-container-title">写法注意</p><p>一、原生转义</p><ul><li>转义字符 之前不能有空格，例如：<code>&amp; gt;</code> 或者 <code>&amp;g t;</code> 都是错误的</li><li>转义字符 必须以<code>;</code> 结尾</li><li>转义字符 是区分大小写的</li><li>单独出现的<code>&amp;</code>不会被认为是转义的开始</li><li>转义字符 中是没有 <code>=</code> 所以 大于等于 在写的时候，<code>=</code>直接拼接在转义字符结尾的后面</li></ul><p>二、<code>&lt;![CDATA[ 内容 ]]&gt;</code></p><ul><li><code>&lt;![CDATA[ 内容 ]]&gt;</code> 中的<code>内容</code> 部分，不能再包含 <code>&lt;![CDATA[]]&gt;</code> ，也不能嵌套使用</li><li><code>&lt;![CDATA[]]&gt;</code> 是一个整体，处理放置内容文本的部分之外，不能出现 <code>空格</code> 或者 <code>换行</code></li></ul></div><h2 id="一、if" tabindex="-1"><a class="header-anchor" href="#一、if"><span>一、if</span></a></h2><p>相当于 <code>java</code> 中的 <code>if</code> 判断，<code>test</code>的值为一个判断表达式，当<code>test</code>成立的时候，<code>if</code>内部的<code>sql</code>会被拼接上</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;判断条件&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> </span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	需要追加的sql</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;name != null and name != &#39;&#39; &quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> </span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	需要追加的sql</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;list != null and list.size() &gt; 0 &quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> </span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	需要追加的sql</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、choose、when、otherwise" tabindex="-1"><a class="header-anchor" href="#二、choose、when、otherwise"><span>二、choose、when、otherwise</span></a></h2><ol><li>相当于 <code>java</code> 中的 <code>if..else if..else</code></li><li><code>choose</code>内部的条件满足一个，<code>choose</code>内部的<code>sql</code>拼接就会结束</li><li><code>otherwise</code>属于可选的，当所有条件都不满足的时候，<code>otherwise</code>将起效</li></ol><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">choose</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">when</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;条件1&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">		满足条件1追加的sql</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">when</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">when</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;条件2&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">		满足条件2追加的sql</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">when</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">otherwise</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">		都不满足追加的sql</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">otherwise</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">choose</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、where" tabindex="-1"><a class="header-anchor" href="#三、where"><span>三、where</span></a></h2><p>当使用<code>where</code>元素的时候，<code>mybatis</code>会将<code>where</code>内部拼接的<code>sql</code>进行处理，会将这部分<code>sql</code>前面的 <code>AND</code> 或者 <code>OR</code> 给去掉，并在前面追加一个<code>where</code></p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getList1&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> resultType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;com.javacode2018.chat05.demo8.model.UserModel&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">parameterType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;map&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT id,name,age FROM t_user</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;id!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND id = #{id}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;name!=null and name.toString()!=&#39;&#39;&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND name = #{name}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;age!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND age = #{age}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、set" tabindex="-1"><a class="header-anchor" href="#四、set"><span>四、set</span></a></h2><p>我们将<code>sql</code>中的<code>set</code>去掉了，加了个<code>set</code>元素，<code>set</code>元素会对其内部拼接的<code>sql</code>进行处理，会将这部分<code>sql</code>前后的逗号给去掉并在前面加上 <code>set</code></p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">update</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;update1&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">	parameterType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;com.javacode2018.chat05.demo8.model.UserModel&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	UPDATE t_user</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">set</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;name!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			name = #{name},</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;age!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			age = #{age},</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">set</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;id!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    		AND id = #{id}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">update</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="五、trim" tabindex="-1"><a class="header-anchor" href="#五、trim"><span>五、trim</span></a></h2><p><code>trim</code>元素内部可以包含各种动态<code>sql</code>，如<code>where</code>、<code>chose</code>、<code>sql</code>等各种元素</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">trim</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> prefix</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> prefixOverrides</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> suffix</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> suffixOverrides</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">trim</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>使用<code>trim</code>包含的元素，<code>mybatis</code>处理过程： 1. 先对<code>trim</code>内部的<code>sql</code>进行拼接，比如这部分<code>sql</code>叫做<code>sql1</code> 2. 将<code>sql1</code>字符串前面的部分中包含<code>trim</code>的<code>prefixOverrides</code>指定的部分给去掉，得到<code>sql2</code> 3. 将<code>sql2</code>字符串后面的部分中包含<code>trim</code>的<code>suffixOverrides</code>指定的部分给去掉，得到<code>sql3</code> 4. 在<code>sql3</code>前面追加<code>trim</code>中<code>prefix</code>指定的值，得到<code>sql4</code> 5. 在<code>sql4</code>后面追加<code>trim</code>中<code>suffix</code>指定的值，得到最终需要拼接的<code>sql5</code></p><p><code>prefixOverrides</code>的值的写法，如果有多个需要覆盖的之间用 <code>|</code> 进行分割，<code>suffixOverrides</code>写法和<code>prefixOverrides</code>的写法类似</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getList1&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> resultType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;com.javacode2018.chat05.demo8.model.UserModel&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">	parameterType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;map&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	SELECT id,name,age FROM t_user</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">trim</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> prefix</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;where&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> prefixOverrides</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;and|or&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;id!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND id = #{id}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;name!=null and name.toString()!=&#39;&#39;&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND name = #{name}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;age!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND age = #{age}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">trim</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">update</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;update1&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">	parameterType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;com.javacode2018.chat05.demo8.model.UserModel&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	UPDATE t_user</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">trim</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> prefix</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;SET&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> prefixOverrides</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;,&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> suffixOverrides</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;,&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;name!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			name = #{name},</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;age!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			age = #{age},</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">trim</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;id!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND id = #{id}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">update</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="六、foreach" tabindex="-1"><a class="header-anchor" href="#六、foreach"><span>六、foreach</span></a></h2><p>相当于<code>java</code>中的循环，可以用来遍历数组、集合、<code>map</code>等</p><ul><li><code>collection</code>：可以是一个<code>List</code>、<code>Set</code>、<code>Map</code>或者数组、</li><li><code>item</code>：集合中的当前元素的引用</li><li><code>index</code>：用来访问当前元素在集合中的位置</li><li><code>separator</code>：各个元素之间的分隔符</li><li><code>open</code>和<code>close</code>：用来配置最后用什么前缀和后缀将<code>foreach</code>内部所有拼接的<code>sql</code>给包装起来</li></ul><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">foreach</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> collection</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;需要遍历的集合&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> item</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;集合中当前元素&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> index</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> open</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> separator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;每次遍历的分隔符&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> close</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	动态sql部分</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">foreach</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getList1&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> resultType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;com.javacode2018.chat05.demo8.model.UserModel&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">	parameterType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;map&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	SELECT id,name,age FROM t_user</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;id!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND id = #{id}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;name!=null and name.toString()!=&#39;&#39;&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND name = #{name}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;age!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND age = #{age}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;idList!=null and idList.size()&gt;=1&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">			&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">foreach</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> collection</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;idList&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> item</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;id&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> open</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;AND id in (&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">				separator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;,&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> close</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;)&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">				#{id}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">			&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">foreach</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">insert</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;insertBatch&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> parameterType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;list&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	INSERT INTO t_user (id,name,age) VALUES</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">foreach</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> collection</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;collection&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> separator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;,&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> item</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;item&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">		(#{item.id}, #{item.name}, #{item.age})</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">foreach</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">insert</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="七、sql、include" tabindex="-1"><a class="header-anchor" href="#七、sql、include"><span>七、sql、include</span></a></h2><p>这两2个元素一般进行配合使用，可以实现代码重用的效果</p><p>sql元素可以用来定义一段动态<code>sql</code>，语法如下：</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">sql</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;sql片段id&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	各种动态sql</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">sql</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其他地方需要使用的时候需要通过<code>include</code>关键字进行引入</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">include</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> refid</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;需要引入的sql片段的id&quot;</span><span style="color:#808080;--shiki-dark:#808080;">/&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p><code>refid</code>值的写法，<code>refid</code>的值为<code>mapper xml</code>的 <code>namespace的值.sql的id </code></p><p>如果在同一个<code>mapper</code>中，<code>namespace</code>可以省略，直接写对应的<code>sql</code>的<code>id</code>就可以了</p></div><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">sql</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;findSql&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;id!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND id = #{id}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;name!=null and name.toString()!=&#39;&#39;&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND name = #{name}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;age!=null&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">			AND age = #{age}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;idList!=null and idList.size()&gt;=1&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">			&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">foreach</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> collection</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;idList&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> item</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;id&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> open</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;AND id in (&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">			separator</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;,&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> close</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;)&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">				#{id}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">			&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">foreach</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">		&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">sql</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getList1&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> resultType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;com.javacode2018.chat05.demo8.model.UserModel&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">parameterType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;map&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	SELECT id,name,age FROM t_user</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">include</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> refid</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;com.javacode2018.chat05.demo8.mapper.UserMapper.findSql&quot;</span><span style="color:#808080;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getList1Count&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">resultType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;com.javacode2018.chat05.demo8.model.UserModel&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> parameterType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;map&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	SELECT count(*) FROM t_user</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">include</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> refid</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;findSql&quot;</span><span style="color:#808080;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="八、bind" tabindex="-1"><a class="header-anchor" href="#八、bind"><span>八、bind</span></a></h2><p><code>bind</code>元素允许我们通过<code>ognl</code>表达式在上下文中自定义一个变量，最后在动态<code>sql</code>中可以使用这个变量</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">bind</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> name</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;变量名称&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> value</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;ognl表达式&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> test</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;likeName!=null and likeName.trim()!=&#39;&#39;&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">bind</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> name</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;nameLike&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> value</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;&#39;%&#39;+likeName.trim()+&#39;%&#39;&quot;</span><span style="color:#808080;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	AND name like #{nameLike}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">if</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="九、resultmap" tabindex="-1"><a class="header-anchor" href="#九、resultmap"><span>九、resultMap</span></a></h2><p>除了常见的<code>select</code>|<code>insert</code>|<code>updae</code>|<code>delete</code>标签之外，还有：<code>&lt;resultMap&gt;、&lt;parameterMap&gt;、&lt;selectKey&gt;</code> ，加上动态<code>sql</code>的9个标签，<code>&lt;selectKey&gt;</code> 为不支持自增的主键生成策略标签。</p><p><code>resultMap</code> 结果映射</p><ul><li><code>id</code>: 唯一标识</li><li><code>type</code>：实体类全限定名</li></ul><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">resultMap</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getStudentRM&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> type</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;com.zhang.mybatis.pojo.Studnet&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">  &lt;!-- </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">	   id: 指定主键字段与数据库字段映射</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">	   result: 指定非主键字段与数据库字段映射 </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">	   property: 实体类字段名</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">	   colums: 数据库字段名</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">  --&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">id</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> property</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;id&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> column</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;ID&quot;</span><span style="color:#808080;--shiki-dark:#808080;">/&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">result</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> property</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;studentName&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> column</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;Name&quot;</span><span style="color:#808080;--shiki-dark:#808080;">/&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">result</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> property</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;studentAge&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> column</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;Age&quot;</span><span style="color:#808080;--shiki-dark:#808080;">/&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">resultMap</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getStudent&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> resultMap</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getStudentRM&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  SELECT ID, Name, Age FROM Student</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="十、parametermap" tabindex="-1"><a class="header-anchor" href="#十、parametermap"><span>十、parameterMap</span></a></h2><p><code>parameterMap</code> 参数映射</p><ul><li><code>id</code>: 唯一标识</li><li><code>class</code>：参数类型全限定名</li></ul><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">parameterMap</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;parameterMap1&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> class</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;java.util.Map&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">    &lt;!-- 参数属性名、Java类型、数据库类型 --&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">	&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">parameter</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> property</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;param1&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> javaType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;String&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> jdbcType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;VARCHAR&quot;</span><span style="color:#808080;--shiki-dark:#808080;">/&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">    &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">parameter</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> property</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;param2&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> javaType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;int&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> jdbcType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;INTEGER&quot;</span><span style="color:#808080;--shiki-dark:#808080;">/&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">parameterMap</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">&lt;!-- Map 的key作为参数名、指定 parameterMap 、返回值类型 --&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;queryUser&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> parameterMap</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;parameterMap1&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> resultType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;com.zhang.mybatis.pojo.user&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  select * from User where name = #{param1} and age = #{param2}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">&lt;!-- Mapper 中 --&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">Map</span><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">String</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, Object</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> map = new HashMap&lt;&gt;();</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">map.put(&quot;param1&quot;, &quot;张&quot;);</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">map.put(&quot;param2&quot;, 20);</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">userMapper.queryUser(map);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="十一、selectkey" tabindex="-1"><a class="header-anchor" href="#十一、selectkey"><span>十一、selectKey</span></a></h2><p><code>selectKey</code>查询自增主键</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">insert</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;insertUser2&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> parameterType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;com.zhang.mybatis.pojo.UserModel&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">&lt;!-- UserModel的主键、在插入之后执行、结果类型 --&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">selectKey</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> keyProperty</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;id&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> order</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;AFTER&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> resultType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;long&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">    &lt;!-- 结果会自动传入到UserModel的主键里面 --&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	SELECT LAST_INSERT_ID()</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">selectKey</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">INSERT INTO t_user (name,age,salary,sex) VALUES (#{name},#{age},#{salary},#{sex})</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">insert</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="十二、resulttype" tabindex="-1"><a class="header-anchor" href="#十二、resulttype"><span>十二、resultType</span></a></h2><p><code>resultType</code> 返回类型</p><p>最终结果会根据接口返回值类型自动将多个 <code>resultType</code>指定的类型的元素组装成<code>List</code></p><h3 id="_1、list对象" tabindex="-1"><a class="header-anchor" href="#_1、list对象"><span>1、List对象</span></a></h3><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">&lt;!-- 返回 List&lt;User&gt; 类型 --&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">public List</span><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">User</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> getUser(String age);</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    </span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getUser&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> resultType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;com.zhang.pojo.User&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	select * from user where age = #{age}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、list嵌套map" tabindex="-1"><a class="header-anchor" href="#_2、list嵌套map"><span>2、List嵌套map</span></a></h3><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">&lt;!-- 返回 List&lt;Map&lt;String,Object&gt;&gt; 类型 --&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">public List</span><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">Map</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&lt;String,Object</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&gt; findUserList();  </span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;findUserList&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> resultType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;java.util.Map&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	SELECT * FROM user</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、list引用类型" tabindex="-1"><a class="header-anchor" href="#_3、list引用类型"><span>3、List引用类型</span></a></h3><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">&lt;!-- 返回 List&lt;Long&gt; 类型 或String、Integer... --&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">public List</span><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">Long</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> getUserId(String age);  </span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> id</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;getUserId&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> resultType</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;java.lang.Long&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	select id from user where age = #{age}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,64),r=[e];function o(p,t){return a(),n("div",null,r)}const c=s(i,[["render",o],["__file","DynamicSql.html.vue"]]),k=JSON.parse('{"path":"/Use/Java/MyBatisPlus/DynamicSql.html","title":"XML文件中的标签、动态SQL","lang":"zh-CN","frontmatter":{"category":"使用篇"},"headers":[{"level":2,"title":"XML中的大于、小于、等于","slug":"xml中的大于、小于、等于","link":"#xml中的大于、小于、等于","children":[]},{"level":2,"title":"一、if","slug":"一、if","link":"#一、if","children":[]},{"level":2,"title":"二、choose、when、otherwise","slug":"二、choose、when、otherwise","link":"#二、choose、when、otherwise","children":[]},{"level":2,"title":"三、where","slug":"三、where","link":"#三、where","children":[]},{"level":2,"title":"四、set","slug":"四、set","link":"#四、set","children":[]},{"level":2,"title":"五、trim","slug":"五、trim","link":"#五、trim","children":[]},{"level":2,"title":"六、foreach","slug":"六、foreach","link":"#六、foreach","children":[]},{"level":2,"title":"七、sql、include","slug":"七、sql、include","link":"#七、sql、include","children":[]},{"level":2,"title":"八、bind","slug":"八、bind","link":"#八、bind","children":[]},{"level":2,"title":"九、resultMap","slug":"九、resultmap","link":"#九、resultmap","children":[]},{"level":2,"title":"十、parameterMap","slug":"十、parametermap","link":"#十、parametermap","children":[]},{"level":2,"title":"十一、selectKey","slug":"十一、selectkey","link":"#十一、selectkey","children":[]},{"level":2,"title":"十二、resultType","slug":"十二、resulttype","link":"#十二、resulttype","children":[{"level":3,"title":"1、List对象","slug":"_1、list对象","link":"#_1、list对象","children":[]},{"level":3,"title":"2、List嵌套map","slug":"_2、list嵌套map","link":"#_2、list嵌套map","children":[]},{"level":3,"title":"3、List引用类型","slug":"_3、list引用类型","link":"#_3、list引用类型","children":[]}]}],"git":{"createdTime":1708330205000,"updatedTime":1710676914000,"contributors":[{"name":"zhanglinwei","email":"3498729975@qq.com","commits":3}]},"readingTime":{"minutes":6.8,"words":2040},"filePathRelative":"Use/Java/MyBatisPlus/DynamicSql.md","localizedDate":"2024年2月19日"}');export{c as comp,k as data};
