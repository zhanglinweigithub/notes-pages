import{_ as l,r as D,o as e,c as r,e as s,f as a,g as p,a as n}from"./app-Vg0IViah.js";const o="/notes-pages/assets/image-20230405121108492-KOqkRiOJ.png",d={},k=n('<h1 id="sql语法" tabindex="-1"><a class="header-anchor" href="#sql语法"><span>SQL语法</span></a></h1><p><code>SQL</code>语言分为：</p><ul><li><code>DCL（Data Control Language）</code>：数据 <mark>控制</mark> 语言</li><li><code>DDL（Data Definition Language）</code>：数据 <mark>定义</mark> 语言</li><li><code>DML（Data Manipulation Language）</code>：数据 <mark>操作</mark> 语言</li><li><code>DQL（Data QueryLanguage）</code>：数据 <mark>查询</mark> 语言</li></ul><p><code>MySQL</code>权限列表：</p><table><thead><tr><th><strong>权限</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>ALL, ALL PRIVILEGES</td><td>所有权限</td></tr><tr><td>SELECT</td><td>查询数据权限</td></tr><tr><td>INSERT</td><td>插入数据权限</td></tr><tr><td>UPDATE</td><td>修改数据权限</td></tr><tr><td>DELETE</td><td>删除数据权限</td></tr><tr><td>ALTER</td><td>修改表权限</td></tr><tr><td>DROP</td><td>删除数据库、表、视图权限</td></tr><tr><td>CREATE</td><td>创建数据库、表权限</td></tr></tbody></table>',5),c={class:"hint-container tip"},t=s("p",{class:"hint-container-title"},"提示",-1),h={href:"https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html",target:"_blank",rel:"noopener noreferrer"},C=n('<h2 id="一、dcl-data-control-language" tabindex="-1"><a class="header-anchor" href="#一、dcl-data-control-language"><span>一、DCL（Data Control Language）</span></a></h2><p>数据控制语言，用来管理数据库用户、控制数据库的访问权限</p><p><strong>在MySQL中需要通过Host和User来唯一标识一个用户。</strong></p><p>执行 <code>select * from mysql.user;</code> 查询结果如下</p><figure><img src="'+o+`" alt="image-20230405121108492" tabindex="0" loading="lazy"><figcaption>image-20230405121108492</figcaption></figure><p><strong>含义解析：</strong></p><ul><li><code>Host</code>：代表当前用户访问的主机如果为<code>localhost</code>，仅代表只能够在当前本机访问，是不可以远程访问的。</li><li><code>User</code>：代表的是访问该数据库的用户名。</li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><ol><li>在<code>MySQL</code>中需要通过用户名<code>@</code>主机名的方式，来唯一标识一个用户</li><li>主机名可以使用 <code>%</code> 通配 ，代表可以远程访问</li><li>多个权限之间，使用逗号分隔</li><li>授权时， 数据库名和表名可以使用 <code>*</code> 进行通配，代表所有</li></ol></div><h3 id="_1、创建用户" tabindex="-1"><a class="header-anchor" href="#_1、创建用户"><span>1、创建用户</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">CREATE</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> USER</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> &#39;</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">用户名</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&#39;@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;主机名&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> IDENTIFIED </span><span style="color:#569CD6;--shiki-dark:#569CD6;">BY</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;密码&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">create</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> user</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> &#39;</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">zhanglinwei</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&#39;@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;localhost&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> identified </span><span style="color:#569CD6;--shiki-dark:#569CD6;">by</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;123456&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">create</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> user</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> &#39;</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">linwei</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&#39;@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> identified </span><span style="color:#569CD6;--shiki-dark:#569CD6;">by</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;123456&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、删除用户" tabindex="-1"><a class="header-anchor" href="#_2、删除用户"><span>2、删除用户</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">DROP</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> USER</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;用户名&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;主机名&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">drop</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> user</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;zhanglinwei&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;localhost&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、修改用户密码" tabindex="-1"><a class="header-anchor" href="#_3、修改用户密码"><span>3、修改用户密码</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> USER</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;用户名&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;主机名&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> IDENTIFIED </span><span style="color:#569CD6;--shiki-dark:#569CD6;">WITH</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> mysql_native_password </span><span style="color:#569CD6;--shiki-dark:#569CD6;">BY</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;新密码&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">alter</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> user</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;linwei&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> identified </span><span style="color:#569CD6;--shiki-dark:#569CD6;">with</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> mysql_native_password </span><span style="color:#569CD6;--shiki-dark:#569CD6;">by</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;1234&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、查询权限" tabindex="-1"><a class="header-anchor" href="#_4、查询权限"><span>4、查询权限</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SHOW GRANTS </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FOR</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;用户名&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;主机名&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">show grants </span><span style="color:#569CD6;--shiki-dark:#569CD6;">for</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;linwei&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5、授予权限" tabindex="-1"><a class="header-anchor" href="#_5、授予权限"><span>5、授予权限</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">GRANT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 权限列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 数据库名.表名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">TO</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;用户名&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;主机名&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">grant</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> all </span><span style="color:#569CD6;--shiki-dark:#569CD6;">on</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> ilovemysql.* </span><span style="color:#569CD6;--shiki-dark:#569CD6;">to</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;linwei&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6、撤销权限" tabindex="-1"><a class="header-anchor" href="#_6、撤销权限"><span>6、撤销权限</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">REVOKE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 权限列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 数据库名.表名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;用户名&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;主机名&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">revoke</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> all </span><span style="color:#569CD6;--shiki-dark:#569CD6;">on</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> ilovemysql.* </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;linwei&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">@</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、ddl-data-definition-language" tabindex="-1"><a class="header-anchor" href="#二、ddl-data-definition-language"><span>二、DDL(Data Definition Language)</span></a></h2><p>数据定义语言，用来定义数据库对象(数据库，表，字段) 。</p><p>用于创建或修改数据库、表、表结构</p><h3 id="_1、数据库操作" tabindex="-1"><a class="header-anchor" href="#_1、数据库操作"><span>1、数据库操作</span></a></h3><p><strong>1）查询数据库</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 查询所有数据库</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">show databases;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 查询当前数据库</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> database</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2）创建数据库</strong></p><p>方式一：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 语法</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">create</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> database</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> [ if not exists ] 数据库名 [ default charset 字符集 ] [ collate 排序规则 ];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 示例</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">create</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> database</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> ilovemysql</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">create</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> database</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> if</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> not</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> exists</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> ilovemysql; </span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- ilovemysql不存在就创建，存在不创建</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">create</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> database</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> ilikemysql</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> default</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> charset utf8mb4; </span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 指定字符集</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方式二：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 语法</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">create</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> schema</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> 数据库名</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 示例</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">create</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> schema</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> db01</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3）删除数据库</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 语法</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">drop</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> database</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> [ if exists ] 数据库名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 示例</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">drop</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> database</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> ilovemysql;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">drop</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> database</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> if</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> exists</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> ilovemysql; </span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 若存在 itcast 数据库，就删除</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>4）切换数据库</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 语法</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">use</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 数据库名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 示例</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">use</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> ilikemysql;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、表操作" tabindex="-1"><a class="header-anchor" href="#_2、表操作"><span>2、表操作</span></a></h3><p><strong>1）查询表</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 查询当前数据库所有表</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">show tables;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 查看指定表结构</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 通过这条指令，我们可以查看到指定表的字段，字段的类型、是否可以为NULL，是否存在默认值等信息</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">desc</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">--  查询指定表的建表语句</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">show </span><span style="color:#569CD6;--shiki-dark:#569CD6;">create</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> table</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2）创建表</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">CREATE</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> 表名</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	字段1 字段1类型 [ COMMENT 字段1注释 ],</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	字段2 字段2类型 [COMMENT 字段2注释 ],</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	字段3 字段3类型 [COMMENT 字段3注释 ],</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	......</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	字段n 字段n类型 [COMMENT 字段n注释 ]</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">) [ COMMENT 表注释 ];</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3）删除表</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">DROP</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> [ IF EXISTS ] 表名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">DROP</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> IF</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> EXISTS</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> tb_user;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">--  删除指定表, 并重新创建表 （在删除表时，数据也会被删除）</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">TRUNCATE</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>4）修改表</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 修改表名</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 RENAME </span><span style="color:#569CD6;--shiki-dark:#569CD6;">TO</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 新表名;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp RENAME </span><span style="color:#569CD6;--shiki-dark:#569CD6;">TO</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> employee;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">--  添加字段</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表面 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ADD</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段名 类型(长度) [ COMMENT 注释 ] [ 约束 ];</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ADD</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> nickname </span><span style="color:#569CD6;--shiki-dark:#569CD6;">varchar</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">20</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">) COMMENT </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;昵称&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 修改数据类型</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">MODIFY</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段名 新数据类型(长度);</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp </span><span style="color:#569CD6;--shiki-dark:#569CD6;">MODIFY</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> nickname </span><span style="color:#569CD6;--shiki-dark:#569CD6;">varchar</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">50</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 修改字段名和字段类型</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 CHANGE 旧字段名 新字段名 类型(长度) [ COMMENT 注释 ] [ 约束 ];</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp CHANGE nickname username </span><span style="color:#569CD6;--shiki-dark:#569CD6;">varchar</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">30</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">) COMMENT </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;昵称&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 删除字段</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">DROP</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段名;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp </span><span style="color:#569CD6;--shiki-dark:#569CD6;">DROP</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> username;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 设置表的自增ID值</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 AUTO_INCREMENT = 值;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ALTER</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp AUTO_INCREMENT = </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>5）索引操作</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">--  创建索引</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">CREATE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> [ UNIQUE | FULLTEXT ] </span><span style="color:#569CD6;--shiki-dark:#569CD6;">INDEX</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 索引名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 (列名,... ) ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">CREATE</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> INDEX</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> idx_user_name</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> tb_user(</span><span style="color:#569CD6;--shiki-dark:#569CD6;">name</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">CREATE</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> UNIQUE INDEX</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> idx_user_phone</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> tb_user(phone);</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">CREATE</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> INDEX</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> idx_user_pro_age_sta</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> tb_user(profession, age, </span><span style="color:#569CD6;--shiki-dark:#569CD6;">status</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 查看索引</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SHOW </span><span style="color:#569CD6;--shiki-dark:#569CD6;">INDEX</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 删除索引</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">DROP</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> INDEX</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 索引名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 前缀索引</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">create</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> 索引名</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> on</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名(列名(长度)) ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">create</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> idx_email_5</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> on</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> tb_user(email(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">5</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>6）复制旧表到新表中</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 创建新表，其结构与旧表相同，2种方法</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">CREATE</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> new_table</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> LIKE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> old_table; </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 或者</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">CREATE</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> TABLE</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> new_table</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> AS</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> old_table </span><span style="color:#569CD6;--shiki-dark:#569CD6;">WHERE</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;"> 1</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">0</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 将旧表中的数据复制到新表 （*表示所有列，将旧表所有列，插入到新表中） </span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> new_table </span><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> old_table;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>方法一：新表与原始表在结构上完全一致，包括列名、数据类型、约束和索引等，但不包含任何数据</li><li>方法二：与现有表结构相同但不包含数据的新表，并且只关心列结构而不包括索引和其他对象</li></ul><h2 id="三、dml-data-manipulation-language" tabindex="-1"><a class="header-anchor" href="#三、dml-data-manipulation-language"><span>三、DML（Data Manipulation Language）</span></a></h2><p>数据操作语言，用来对数据库中表的数据记录进 行 <mark>增、删、改</mark> 操作</p><h3 id="_1、添加-insert" tabindex="-1"><a class="header-anchor" href="#_1、添加-insert"><span>1、添加 INSERT</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">--  给指定字段添加数据</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 (字段名1, 字段名2, ...) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">VALUES</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (值1, 值2, ...);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">insert into</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> employee(id,workno,</span><span style="color:#569CD6;--shiki-dark:#569CD6;">name</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,gender,age,idcard,entrydate) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">values</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">1</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;1&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;ZHANG&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;男&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">10</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;123456789012345678&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;2000-01-01&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 给全部字段添加数据</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">VALUES</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (值1, 值2, ...);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">insert into</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> employee </span><span style="color:#569CD6;--shiki-dark:#569CD6;">values</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">2</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;2&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;张&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;男&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">18</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;123456789012345670&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;2005-01-01&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 批量添加数据</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 (字段名1, 字段名2, ...) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">VALUES</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (值1, 值2, ...), (值1, 值2, ...);</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">VALUES</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (值1, 值2, ...), (值1, 值2, ...), (值1, 值2, ...) ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">insert into</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> employee </span><span style="color:#569CD6;--shiki-dark:#569CD6;">values</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">3</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;3&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;韦一笑&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;男&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">38</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;123456789012345670&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;2005-01-</span></span>
<span class="line"><span style="color:#CE9178;--shiki-dark:#CE9178;">01&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">),(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">4</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;4&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;赵敏&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;女&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">18</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;123456789012345670&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;2005-01-01&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 主键、唯一键冲突时, 转而执行UPDATE</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">INSERT INTO</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user (id,username,userpwd,num) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">values</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">1</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;testName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;testPwd&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">10</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> DUPLICATE </span><span style="color:#569CD6;--shiki-dark:#569CD6;">KEY</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> UPDATE</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">username = </span><span style="color:#569CD6;--shiki-dark:#569CD6;">VALUES</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(username), </span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 发生主键、唯一键冲突时，更新 username 为 testName</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">userpwd = </span><span style="color:#569CD6;--shiki-dark:#569CD6;">VALUES</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(userpwd) </span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 发生主键、唯一键冲突时，更新 userpwd 为 testPwd</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 遇到相同的索引值 4，则会修改，否则新增</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">REPALCE </span><span style="color:#569CD6;--shiki-dark:#569CD6;">INTO</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#569CD6;--shiki-dark:#569CD6;">VALUES</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">4</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;ZLW&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">18</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">主键、唯一键优先级</p><p>主键冲突 <code>&gt;</code> 唯一键冲突</p></div><h3 id="_2、修改-update" tabindex="-1"><a class="header-anchor" href="#_2、修改-update"><span>2、修改 UPDATE</span></a></h3><div class="hint-container warning"><p class="hint-container-title">注意</p><p>修改语句的条件可以有，也可以没有，如果没有条件，则会修改整张表的所有数据。</p></div><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">UPDATE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">SET</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段名1 = 值1 , 字段名2 = 值2 , .... [ WHERE 条件 ] ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">update</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> employee </span><span style="color:#569CD6;--shiki-dark:#569CD6;">set</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> name</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;zlw&#39;</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> id = </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">1</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">update</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> employee </span><span style="color:#569CD6;--shiki-dark:#569CD6;">set</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> name</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;小昭&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> , gender = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;女&#39;</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> id = </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">1</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">update</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> employee </span><span style="color:#569CD6;--shiki-dark:#569CD6;">set</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> entrydate = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;2008-01-01&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 联表更新</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">UPDATE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> table1 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">INNER JOIN</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> table2</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> table1.column_name = table2.column_name</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SET</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> table1.column = value1, table2.column = value2</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> condition;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、删除-delete" tabindex="-1"><a class="header-anchor" href="#_3、删除-delete"><span>3、删除 DELETE</span></a></h3><div class="hint-container warning"><p class="hint-container-title">注意</p><ol><li><code>DELETE</code> 语句的条件可以有，也可以没有，如果没有条件，则会删除整张表的所有数据。</li><li><code>DELETE</code> 语句不能删除某一个字段的值，只能删除一整行数据(可以使用<code>UPDATE</code>，将该字段值置为<code>NULL</code>即可)。</li><li><code>DELETE</code>语句会删除所有满足条件的行，所以条件尽量使用唯一键</li></ol></div><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">DELETE</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 [ WHERE 条件 ] ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">delete</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> employee </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> gender = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;女&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">delete</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> employee;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 联表删除</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">delete</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> a </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> sys_user_role_rel a, sys_role b</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> a.role_id = b.role_id</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">and</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> a.user_id = </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">1</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">and</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> b.type = </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、dql-data-query-language" tabindex="-1"><a class="header-anchor" href="#四、dql-data-query-language"><span>四、DQL（Data Query Language）</span></a></h2><p>数据查询语言，用来查询数据库中表的记录。</p><h3 id="_1、语句结构、执行顺序" tabindex="-1"><a class="header-anchor" href="#_1、语句结构、执行顺序"><span>1、语句结构、执行顺序</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#569CD6;--shiki-dark:#569CD6;">								FROM</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	字段列表							表名列表</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#569CD6;--shiki-dark:#569CD6;">								WHERE</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	表名列表							条件列表</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">WHERE</span><span style="color:#569CD6;--shiki-dark:#569CD6;">								GROUP BY</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	条件列表							分组字段列表</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">GROUP BY</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">		===&gt; 语句执行顺序		</span><span style="color:#569CD6;--shiki-dark:#569CD6;">HAVING</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	分组字段列表							分组后条件列表</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">HAVING</span><span style="color:#569CD6;--shiki-dark:#569CD6;">								SELECT</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	分组后条件列表							字段列表</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">ORDER BY</span><span style="color:#569CD6;--shiki-dark:#569CD6;">							ORDER BY</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	排序字段列表							排序字段列表</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">LIMIT</span><span style="color:#569CD6;--shiki-dark:#569CD6;">								LIMIT</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	分页参数							分页参数</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、单表查询" tabindex="-1"><a class="header-anchor" href="#_2、单表查询"><span>2、单表查询</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名; </span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 查询全部字段</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段1, 字段2, 字段3 ... </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名; </span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 查询指定字段</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段1 [ AS 别名1 ] , 字段2 [ AS 别名2 ] ... </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名; </span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 设置别名</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段1 [ 别名1 ] , 字段2 [ 别名2 ] ... </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT DISTINCT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名; </span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 指定字段去重</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 条件列表;	</span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- WHERE条件查询</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 聚合函数(字段列表) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名;	</span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 使用聚合函数</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 条件列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">GROUP BY</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段; </span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 分组查询</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 条件列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">GROUP BY</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">HAVING</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 条件;	</span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 分组后过滤</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- ASC : 升序(默认值)  DESC: 降序</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表名 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ORDER BY</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段1 排序方式1 , 字段2 排序方式2;	</span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 排序</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp </span><span style="color:#569CD6;--shiki-dark:#569CD6;">limit</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;"> 0</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">10</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;	</span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 分页查询</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 查询第2页员工数据, 每页展示10条记录</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp </span><span style="color:#569CD6;--shiki-dark:#569CD6;">limit</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;"> 10</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">10</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p><strong>分组：</strong></p><ol><li>分组之后，查询的字段一般为 <mark>聚合函数和分组字段，查询其他字段无任何意义。</mark></li><li>执行顺序:：<code>where &gt; 聚合函数 &gt; having</code> 。</li><li>支持多字段分组, 具体语法为 : <code>group by columnA,columnB</code></li></ol><p><strong>排序：</strong></p><ol><li>如果是多字段排序，当第一个字段值相同时，才会根据第二个字段进行排序</li><li>如果是升序, 可以不指定排序方式<code>ASC</code></li></ol><p><strong>分页：</strong></p><ol><li>起始索引从0开始，<code>起始索引 = （查询页码 - 1）* 每页显示记录数</code></li><li>分页查询是数据库的方言，不同的数据库有不同的实现，<code>MySQL</code>中是<code>LIMIT</code></li><li>如果查询的是第一页数据，起始索引可以省略，直接简写为 <code>limit 10</code></li></ol></div><div class="hint-container tip"><p class="hint-container-title">where与having区别</p><p>1、执行时机不同：</p><ul><li><code>where</code>是分组之前进行过滤，不满足<code>where</code>条件，不参与分组；</li><li>而<code>having</code>是分组之后对结果进行过滤。</li></ul><p>2、判断条件不同：</p><ul><li><code>where</code>不能对聚合函数进行判断，而<code>having</code>可以。</li></ul></div><h3 id="_3、多表查询" tabindex="-1"><a class="header-anchor" href="#_3、多表查询"><span>3、多表查询</span></a></h3><p>连接查询、联合查询、子查询</p><p><strong>1）连接查询</strong></p><ul><li><strong>内连接：</strong> 相当于查询A、B交集部分数据</li><li><strong>左外连接：</strong> 查询左表所有数据，以及两张表交集部分数据</li><li><strong>右外连接：</strong> 查询右表所有数据，以及两张表交集部分数据</li><li><strong>自连接：</strong> 当前表与自身的连接查询，自连接必须使用表别名</li></ul><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 隐式内连接</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表1 , 表2 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 条件 ... ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> e.name,d.name </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp e , dept d </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> e.dept_id = d.id;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 显式内连接</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表1 [ INNER ] </span><span style="color:#569CD6;--shiki-dark:#569CD6;">JOIN</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表2 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 连接条件 ... ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> e.name, d.name </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp e </span><span style="color:#569CD6;--shiki-dark:#569CD6;">join</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> dept d </span><span style="color:#569CD6;--shiki-dark:#569CD6;">on</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> e.dept_id = d.id;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 左外连接</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表1 LEFT [ OUTER ] </span><span style="color:#569CD6;--shiki-dark:#569CD6;">JOIN</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表2 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 条件 ... ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> e.*, d.name </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp e </span><span style="color:#569CD6;--shiki-dark:#569CD6;">left join</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> dept d </span><span style="color:#569CD6;--shiki-dark:#569CD6;">on</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> e.dept_id = d.id;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 右外连接</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表1 RIGHT [ OUTER ] </span><span style="color:#569CD6;--shiki-dark:#569CD6;">JOIN</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表2 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 条件 ... ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> d.*, e.* </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> dept d </span><span style="color:#569CD6;--shiki-dark:#569CD6;">right join</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp e </span><span style="color:#569CD6;--shiki-dark:#569CD6;">on</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> e.dept_id = d.id;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 自连接</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表A 别名A </span><span style="color:#569CD6;--shiki-dark:#569CD6;">JOIN</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表A 别名B </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 条件 ... ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> a.name, b.name </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp a , emp b </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> a.managerid = b.id;	</span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 自内</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> a.name, b.name </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp a </span><span style="color:#569CD6;--shiki-dark:#569CD6;">left join</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp b </span><span style="color:#569CD6;--shiki-dark:#569CD6;">on</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> a.managerid = b.id;	</span><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 自外</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li><p>自连接查询，可以是内连接查询，也可以是外连接查询</p></li><li><p><code>left join</code> 和 <code>right join</code> 不管 <code>on</code> 条件是否成立，都会返回左表或右表的全部数据</p></li><li><p><code>on</code> 和 <code>where</code> 的区别：</p><ul><li><p><code>on</code> 条件是在生成临时表时，使用的条件，它不管 <code>on</code> 中的条件是否为真，都会返回左表或右表中的全部数据</p></li><li><p><code>where</code> 条件是在临时表生成后，再对临时表进行过滤的条件。这时已经没有 <code>left/ right join</code> 的含义（必须返回左表或右表的全部数据）了，条件不为真的就全部过滤掉。</p></li></ul></li></ul></div><p><strong>2）联合查询</strong></p><p>对于<code>union</code>查询，就是把多次查询的结果合并起来，形成一个新的查询结果集</p><ul><li>联合查询的多张表的列数必须保持一致，字段类型也需要保持一致</li><li><code>union all</code> 会将全部的数据直接合并在一起，<code>union</code> 会对合并之后的数据去重</li></ul><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表A ...</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">UNION</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> [ ALL ]</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">SELECT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 字段列表 </span><span style="color:#569CD6;--shiki-dark:#569CD6;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 表B ....;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> salary &lt; </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">5000</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">union all</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> age &gt; </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">50</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3）子查询</strong></p><p><code>SQL</code>语句中嵌套<code>SELECT</code>语句，称为嵌套查询，又称子查询</p><p>根据子查询结果不同，分为：</p><ul><li>标量子查询（子查询结果为单个值），常用的操作符：<code>=、&lt;&gt;、&gt;、&gt;=、&lt;、&lt;=</code></li><li>列子查询(子查询结果为一列) ，常用的操作符：<code>IN 、NOT IN 、 ANY 、SOME 、 ALL</code></li><li>行子查询(子查询结果为一行) ，常用的操作符：<code>= 、&lt;&gt; 、IN 、NOT IN</code></li><li>表子查询(子查询结果为多行多列)，常用的操作符：<code>IN</code></li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><p>子查询外部的语句可以是<code>INSERT</code> / <code>UPDATE</code> / <code>DELETE</code> / <code>SELECT</code> 的任何一个</p></div><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 标量子查询</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> dept_id = (</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> id </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> dept </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> name</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;销售部&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 列子查询</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> dept_id </span><span style="color:#569CD6;--shiki-dark:#569CD6;">in</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> id </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> dept </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> name</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;销售部&#39;</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> or</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> name</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;市场部&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 行子查询</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (salary,managerid) = (</span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> salary, managerid </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> name</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;张无忌&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">-- 表子查询</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (job,salary) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">in</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> ( </span><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> job, salary </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> emp </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> name</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> =</span></span>
<span class="line"><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;鹿杖客&#39;</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> or</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> name</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;宋远桥&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> );</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、sql提示查询" tabindex="-1"><a class="header-anchor" href="#_4、sql提示查询"><span>4、SQL提示查询</span></a></h3><ul><li><code>use index</code>：建议<code>MySQL</code>使用哪一个索引完成此次查询（仅仅是建议，<code>mysql</code>内部还会再次进行评估）</li><li><code>ignore index</code>：忽略指定的索引</li><li><code>force index</code>：强制使用索引</li></ul><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"># </span><span style="color:#569CD6;--shiki-dark:#569CD6;">use</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> tb_user </span><span style="color:#569CD6;--shiki-dark:#569CD6;">use</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(idx_user_pro) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> profession = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;软件工程&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> tb_user a </span><span style="color:#569CD6;--shiki-dark:#569CD6;">use</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(idx_user_pro) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> profession = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;软件工程&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"># </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ignore</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> tb_user </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ignore</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(idx_user_pro) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> profession = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;软件工程&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> tb_user a </span><span style="color:#569CD6;--shiki-dark:#569CD6;">ignore</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(idx_user_pro) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> profession = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;软件工程&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"># </span><span style="color:#569CD6;--shiki-dark:#569CD6;">force</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> tb_user </span><span style="color:#569CD6;--shiki-dark:#569CD6;">force</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(idx_user_pro) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> profession = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;软件工程&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> * </span><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> tb_user a </span><span style="color:#569CD6;--shiki-dark:#569CD6;">force</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(idx_user_pro) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> profession = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;软件工程&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">select</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	*</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">from</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	tb_user a </span><span style="color:#569CD6;--shiki-dark:#569CD6;">use</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(idx_user_pro)</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">	join</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> tb_order b </span><span style="color:#569CD6;--shiki-dark:#569CD6;">use</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> index</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(idx_order_pro)</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">	on</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> a.user_id = b.user_id</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">where</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	a.delete_falg = </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">0</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> and</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> b.delete_flag = </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">0</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,87);function y(v,u){const i=D("ExternalLinkIcon");return e(),r("div",null,[k,s("div",c,[t,s("p",null,[a("只是简单罗列了常见的几种权限描述，其他权限描述及含义，可以直接参考"),s("a",h,[a("官方文档"),p(i)]),a("。")])]),C])}const m=l(d,[["render",y],["__file","SQL.html.vue"]]),b=JSON.parse('{"path":"/Use/Java/MySQL/SQL.html","title":"SQL语法","lang":"zh-CN","frontmatter":{"category":"使用篇"},"headers":[{"level":2,"title":"一、DCL（Data Control Language）","slug":"一、dcl-data-control-language","link":"#一、dcl-data-control-language","children":[{"level":3,"title":"1、创建用户","slug":"_1、创建用户","link":"#_1、创建用户","children":[]},{"level":3,"title":"2、删除用户","slug":"_2、删除用户","link":"#_2、删除用户","children":[]},{"level":3,"title":"3、修改用户密码","slug":"_3、修改用户密码","link":"#_3、修改用户密码","children":[]},{"level":3,"title":"4、查询权限","slug":"_4、查询权限","link":"#_4、查询权限","children":[]},{"level":3,"title":"5、授予权限","slug":"_5、授予权限","link":"#_5、授予权限","children":[]},{"level":3,"title":"6、撤销权限","slug":"_6、撤销权限","link":"#_6、撤销权限","children":[]}]},{"level":2,"title":"二、DDL(Data Definition Language)","slug":"二、ddl-data-definition-language","link":"#二、ddl-data-definition-language","children":[{"level":3,"title":"1、数据库操作","slug":"_1、数据库操作","link":"#_1、数据库操作","children":[]},{"level":3,"title":"2、表操作","slug":"_2、表操作","link":"#_2、表操作","children":[]}]},{"level":2,"title":"三、DML（Data Manipulation Language）","slug":"三、dml-data-manipulation-language","link":"#三、dml-data-manipulation-language","children":[{"level":3,"title":"1、添加 INSERT","slug":"_1、添加-insert","link":"#_1、添加-insert","children":[]},{"level":3,"title":"2、修改 UPDATE","slug":"_2、修改-update","link":"#_2、修改-update","children":[]},{"level":3,"title":"3、删除 DELETE","slug":"_3、删除-delete","link":"#_3、删除-delete","children":[]}]},{"level":2,"title":"四、DQL（Data Query Language）","slug":"四、dql-data-query-language","link":"#四、dql-data-query-language","children":[{"level":3,"title":"1、语句结构、执行顺序","slug":"_1、语句结构、执行顺序","link":"#_1、语句结构、执行顺序","children":[]},{"level":3,"title":"2、单表查询","slug":"_2、单表查询","link":"#_2、单表查询","children":[]},{"level":3,"title":"3、多表查询","slug":"_3、多表查询","link":"#_3、多表查询","children":[]},{"level":3,"title":"4、SQL提示查询","slug":"_4、sql提示查询","link":"#_4、sql提示查询","children":[]}]}],"git":{"createdTime":1708330205000,"updatedTime":1710071262000,"contributors":[{"name":"zhanglinwei","email":"3498729975@qq.com","commits":3}]},"readingTime":{"minutes":11.69,"words":3508},"filePathRelative":"Use/Java/MySQL/SQL.md","localizedDate":"2024年2月19日"}');export{m as comp,b as data};
