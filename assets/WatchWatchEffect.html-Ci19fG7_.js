import{_ as p,r as o,o as k,c,e as s,f as a,g as D,w as l,a as d}from"./app-Vg0IViah.js";const t={},h=s("h1",{id:"watch-watcheffect",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#watch-watcheffect"},[s("span",null,"watch & watchEffect")])],-1),C=s("p",null,"监视器：侦听一个或多个响应式数据源，并在数据源变化时调用所给的回调函数",-1),y=s("h2",{id:"一、调试器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#一、调试器"},[s("span",null,"一、调试器")])],-1),v={href:"https://play.vuejs.org/#eNp9kUFLwzAUx7/KM5cqzBXR0+gGKgP1oKKCl1xG99ZlpklIXuag9Lv7krK5w9it7//7v/SXthP3zo23EcVEVKH2yhEEpOhm0qjWWU/QgccV9LDytoWCq4U00tTWBII2NDBN/LJ4Qq0tfFuvlxfFlTRVORzHB/FA2Dq9IOQJoFrfzLouL/d9VfKUU2VcJNhet3aJeioFcymgZFiVR/tiJCjw61eqGW+CNWzepX0pats6pdG/OVKsJ8UEMklswXa/LzkjH3G0z+s11j8n8k3YpUyKd48B/RalODBa+AZpwPPPV9zx8wGyfdTcPgM/MFgdk+NQe4hmydpHvWz7nL+/Ms1XmO8ITdhfKommZp/7UvA/eTxz9X/d2/Fd3pOmF/0fEx+nNQ==",target:"_blank",rel:"noopener noreferrer"},u=s("h2",{id:"二、watch",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#二、watch"},[s("span",null,"二、watch")])],-1),E={href:"https://cn.vuejs.org/guide/essentials/watchers.html",target:"_blank",rel:"noopener noreferrer"},b={href:"https://cn.vuejs.org/api/reactivity-core.html#watch",target:"_blank",rel:"noopener noreferrer"},m=d(`<div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> setup</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">import</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> { </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> } </span><span style="color:#C586C0;--shiki-dark:#C586C0;">from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    </span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">        attr</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        (</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">callBackFunc</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;newValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;oldValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        },</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">        args</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>attr</code>：要监听的属性；可以是 <mark>一个函数，返回一个值、<code>ref</code>、<code>reactive</code>、以上类型的值组成的数组</mark></li><li>第二个参数：在发生变化时要调用的回调函数，接受三个参数 <ul><li>新值、旧值、副作用清理的回调函数</li></ul></li><li><code>args</code>：可选对象，支持以下选项 <ul><li><code>immediate</code>：在侦听器创建时立即触发回调。第一次调用时旧值是 <code>undefined</code></li><li><code>deep</code>：如果源是对象，强制深度遍历，以便在深层级变更时触发回调</li><li><code>flush</code>：调整回调函数的刷新时机</li><li><code>onTrack/onTrigger</code>：调试侦听器的依赖</li><li><code>once</code>：回调函数只会运行一次。侦听器将在回调函数首次运行后自动停止</li></ul></li></ul><h3 id="_1、监听-ref" tabindex="-1"><a class="header-anchor" href="#_1、监听-ref"><span>1、监听 ref</span></a></h3><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> setup</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">import</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> { </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">ref</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> } </span><span style="color:#C586C0;--shiki-dark:#C586C0;">from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">const</span><span style="color:#4FC1FF;--shiki-dark:#4FC1FF;"> question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">ref</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">        question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        (</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;newValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;oldValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    question:</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">    &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">input</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> v-model</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#808080;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、监听-reactive" tabindex="-1"><a class="header-anchor" href="#_2、监听-reactive"><span>2、监听 reactive</span></a></h3><div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li>监听对象时 <code>newValue</code>和<code>oldValue</code> 是相等的，因为他们是同一个对象</li><li>直接侦听一个响应式对象时，侦听器会自动启用深层模式</li></ul></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> setup</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">import</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> { </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">reactive</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> } </span><span style="color:#C586C0;--shiki-dark:#C586C0;">from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">let</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reactive</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">({ </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">count:</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;"> 0</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">        question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        (</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;newValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;oldValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;newValue = oldValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> === </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    question:{{ </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">count</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> }}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">    &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">button</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> @</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">click</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">count</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">++</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        +1</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">    &lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">button</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>不能直接侦听响应式对象的属性值，例如:</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> setup</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">import</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> { </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">reactive</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> } </span><span style="color:#C586C0;--shiki-dark:#C586C0;">from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">let</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reactive</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">({ </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">count:</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;"> 0</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> })</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">count</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, (</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">  console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">\`newValue is: </span><span style="color:#569CD6;--shiki-dark:#569CD6;">\${</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#569CD6;--shiki-dark:#569CD6;">}</span><span style="color:#CE9178;--shiki-dark:#CE9178;">, oldValue is: </span><span style="color:#569CD6;--shiki-dark:#569CD6;">\${</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#569CD6;--shiki-dark:#569CD6;">}</span><span style="color:#CE9178;--shiki-dark:#CE9178;">\`</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">})</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="_3、监听getter函数" tabindex="-1"><a class="header-anchor" href="#_3、监听getter函数"><span>3、监听getter函数</span></a></h3><div class="hint-container tip"><p class="hint-container-title">提示</p><p>当使用 <code>getter</code> 函数作为源时，回调只在此函数的返回值变化时才会触发。</p><p>如果想让回调在内部属性变更时也触发，需要使用 <code>{ deep: true }</code> 强制侦听器进入深层级模式</p></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> setup</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">import</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> { </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">reactive</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> } </span><span style="color:#C586C0;--shiki-dark:#C586C0;">from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">let</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">reactive</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">({ </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">count:</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;"> 0</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">        // () =&gt; question.count++, // 不需要 deep:true</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        () </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#6A9955;--shiki-dark:#6A9955;">// 需要 deep: true</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        (</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;newValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;oldValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;newValue = oldValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> === </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        },</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          deep:</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> true</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    question:{{ </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">count</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> }}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">    &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">button</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> @</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">click</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">count</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">++</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        +1</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">    &lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">button</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、监听多个来源" tabindex="-1"><a class="header-anchor" href="#_4、监听多个来源"><span>4、监听多个来源</span></a></h3><div class="hint-container tip"><p class="hint-container-title">提示</p><p>当侦听多个来源时，回调函数接受两个数组，分别对应来源数组中的新值和旧值</p></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> setup</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">import</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> { </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">ref</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> } </span><span style="color:#C586C0;--shiki-dark:#C586C0;">from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">let</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> firstName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">ref</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;张&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">let</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> age</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">ref</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">18</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        [</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">firstName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">age</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">],</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        ([</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newFirstName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newAge</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">], [</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldFirstName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldAge</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">]) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;newFirstName、newAge &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newFirstName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newAge</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;oldFirstName、oldAge &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldFirstName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldAge</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    age:{{ </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">age</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> }}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">    &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">button</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> @</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">click</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">age</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">++</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> +1</span><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">button</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    firstName:{{ </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">firstName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> }}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">      &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">input</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> v-model</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">firstName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#808080;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5、即时回调监听器" tabindex="-1"><a class="header-anchor" href="#_5、即时回调监听器"><span>5、即时回调监听器</span></a></h3><div class="hint-container tip"><p class="hint-container-title">提示</p><p><code>watch</code> 默认是懒执行的：仅当数据源变化时，才会执行回调</p></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> setup</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">import</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> { </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">ref</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> } </span><span style="color:#C586C0;--shiki-dark:#C586C0;">from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">const</span><span style="color:#4FC1FF;--shiki-dark:#4FC1FF;"> question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">ref</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">        question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        (</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;newValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;oldValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        },</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          immediate:</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> true</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    question:</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">    &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">input</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> v-model</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#808080;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6、一次性监听器" tabindex="-1"><a class="header-anchor" href="#_6、一次性监听器"><span>6、一次性监听器</span></a></h3><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> setup</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">import</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> { </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">ref</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> } </span><span style="color:#C586C0;--shiki-dark:#C586C0;">from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">const</span><span style="color:#4FC1FF;--shiki-dark:#4FC1FF;"> question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">ref</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">watch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">        question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        (</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;newValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">newValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;oldValue &#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">oldValue</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        },</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">          once:</span><span style="color:#569CD6;--shiki-dark:#569CD6;"> true</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    question:</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">    &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">input</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> v-model</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">question</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#808080;--shiki-dark:#808080;"> /&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、watcheffect" tabindex="-1"><a class="header-anchor" href="#三、watcheffect"><span>三、watchEffect</span></a></h2><ul><li><code>watch</code>的套路是：既要指明监视的属性，也要指明监视的回调</li><li><code>watchEffect</code>的套路是：不用指明监视哪个属性，监视的回调中用到哪个属性，那就监视哪个属性</li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><p><code>watchEffect</code>的回调会立即执行，不需要指定 <code>immediate: true</code></p></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> setup</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">import</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> { </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">watchEffect</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> } </span><span style="color:#C586C0;--shiki-dark:#C586C0;">from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">watchEffect</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">((</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">callbackFunc</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">) </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;age&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">age</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">value</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">    callbackFunc</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line"> </div><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>第一个参数就是属性变化时要执行的回调，可接收一个回调，用于清除副作用</li><li>第二个参数（可选）用来调整副作用的刷新时机</li></ul><p><strong>示例</strong></p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> setup</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">import</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> { </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">ref</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">watchEffect</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> } </span><span style="color:#C586C0;--shiki-dark:#C586C0;">from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">let</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> age</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">ref</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">18</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    </span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">watchEffect</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(() </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    console</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">log</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;age&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">age</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">value</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">})</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">age</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">value</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">20</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    {{</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">age</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">}}</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">      &lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">button</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> @</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">click</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">age</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">++</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">          +1</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">    &lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">button</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">  &lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">p</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">template</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、副作用清除" tabindex="-1"><a class="header-anchor" href="#四、副作用清除"><span>四、副作用清除</span></a></h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p>副作用清除函数会最先执行</p></div>`,28),F=s("div",{class:"language-vue line-numbers-mode","data-ext":"vue","data-title":"vue"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," setup"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"import"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," { "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"ref"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"watch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," } "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"from"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'vue'")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"let"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," age"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"ref"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}},"18"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"watch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", ("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"newValue"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"oldValue"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"celarFunc"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},") "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"=>"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"    console"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"log"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},"'age'"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"newValue"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"    // 副作用清除函数")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"    celarFunc"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(() "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"=>"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"      console"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"log"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},"'我比age先执行 '"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    })")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"    console"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"log"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},"'我最后执行 '"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"})")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"p"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    {{"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"      <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," @"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"click"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"++"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"          +1")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    </"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  </"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"p"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"})])]),s("div",{class:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{class:"highlight-line"}," "),s("br"),s("br"),s("br"),s("div",{class:"highlight-line"}," "),s("div",{class:"highlight-line"}," "),s("div",{class:"highlight-line"}," "),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),g=s("div",{class:"language-vue line-numbers-mode","data-ext":"vue","data-title":"vue"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," setup"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"import"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," { "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"ref"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"watchEffect"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," } "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"from"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'vue'")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"let"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," age2"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"ref"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}},"18"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"watchEffect"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"celarFunc"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},") "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"=>"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"    console"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"log"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},"'age2'"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age2"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"value"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"    // 副作用清除函数")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"    celarFunc"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(() "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"=>"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"      console"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"log"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},"'我比age2先执行 '"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    })")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"    console"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"log"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},"'我最后执行 '"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"})")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"p"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    {{"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age2"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"      <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," @"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"click"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age2"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"++"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"          +1")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    </"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  </"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"p"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"})])]),s("div",{class:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{class:"highlight-line"}," "),s("br"),s("br"),s("br"),s("div",{class:"highlight-line"}," "),s("div",{class:"highlight-line"}," "),s("div",{class:"highlight-line"}," "),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),A=s("h2",{id:"五、手动停止监听器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#五、手动停止监听器"},[s("span",null,"五、手动停止监听器")])],-1),f=s("p",null,[a("调用 "),s("code",null,"watch"),a(" 或 "),s("code",null,"watchEffect"),a(" 返回的函数以停止监听器")],-1),w=s("div",{class:"language-vue line-numbers-mode","data-ext":"vue","data-title":"vue"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," setup"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"import"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," { "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"ref"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"watch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," } "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"from"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'vue'")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"let"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," age"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"ref"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}},"18"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"const"),s("span",{style:{color:"#4FC1FF","--shiki-dark":"#4FC1FF"}}," unwatch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"watch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", ("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"newValue"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"oldValue"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},") "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"=>"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"    console"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"log"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},"'age'"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"value"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"})")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"function"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," doUnwatch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," () {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"unwatch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"p"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    {{"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," @"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"click"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"++"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"          +1")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    </"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," @"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"click"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"unwatch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"          停止监听器")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    </"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  </"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"p"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"})])]),s("div",{class:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{class:"highlight-line"}," "),s("br"),s("br"),s("br"),s("div",{class:"highlight-line"}," "),s("div",{class:"highlight-line"}," "),s("div",{class:"highlight-line"}," "),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),V=s("div",{class:"language-vue line-numbers-mode","data-ext":"vue","data-title":"vue"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," setup"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"import"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," { "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"ref"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"watchEffect"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," } "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"from"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'vue'")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"let"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," age2"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"ref"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}},"18"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"const"),s("span",{style:{color:"#4FC1FF","--shiki-dark":"#4FC1FF"}}," unwatch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"watchEffect"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(() "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"=>"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"    console"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"log"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},"'age2'"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age2"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"value"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"})")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"function"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," doUnwatch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"    unwatch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"p"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    {{"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age2"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," @"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"click"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"age2"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"++"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"          +1")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    </"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," @"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"click"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"doUnwatch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"          停止监听器")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    </"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  </"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"p"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"})])]),s("div",{class:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{class:"highlight-line"}," "),s("br"),s("br"),s("br"),s("div",{class:"highlight-line"}," "),s("div",{class:"highlight-line"}," "),s("div",{class:"highlight-line"}," "),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1);function _(x,q){const r=o("ExternalLinkIcon"),e=o("CodeTabs");return k(),c("div",null,[h,C,y,s("p",null,[s("a",v,[a("传送门"),D(r)])]),u,s("p",null,[s("a",E,[a("官方文档"),D(r)])]),s("p",null,[s("a",b,[a("API文档"),D(r)])]),m,D(e,{id:"180",data:[{id:"watch"},{id:"watchEffect"}]},{title0:l(({value:i,isActive:n})=>[a("watch")]),title1:l(({value:i,isActive:n})=>[a("watchEffect")]),tab0:l(({value:i,isActive:n})=>[F]),tab1:l(({value:i,isActive:n})=>[g]),_:1}),A,f,D(e,{id:"194",data:[{id:"watch"},{id:"watchEffect"}]},{title0:l(({value:i,isActive:n})=>[a("watch")]),title1:l(({value:i,isActive:n})=>[a("watchEffect")]),tab0:l(({value:i,isActive:n})=>[w]),tab1:l(({value:i,isActive:n})=>[V]),_:1})])}const N=p(t,[["render",_],["__file","WatchWatchEffect.html.vue"]]),W=JSON.parse('{"path":"/Use/Font/Vue3/WatchWatchEffect.html","title":"watch & watchEffect","lang":"zh-CN","frontmatter":{"category":["使用篇"],"tag":["Vue3使用","watch&watchEffect"]},"headers":[{"level":2,"title":"一、调试器","slug":"一、调试器","link":"#一、调试器","children":[]},{"level":2,"title":"二、watch","slug":"二、watch","link":"#二、watch","children":[{"level":3,"title":"1、监听 ref","slug":"_1、监听-ref","link":"#_1、监听-ref","children":[]},{"level":3,"title":"2、监听 reactive","slug":"_2、监听-reactive","link":"#_2、监听-reactive","children":[]},{"level":3,"title":"3、监听getter函数","slug":"_3、监听getter函数","link":"#_3、监听getter函数","children":[]},{"level":3,"title":"4、监听多个来源","slug":"_4、监听多个来源","link":"#_4、监听多个来源","children":[]},{"level":3,"title":"5、即时回调监听器","slug":"_5、即时回调监听器","link":"#_5、即时回调监听器","children":[]},{"level":3,"title":"6、一次性监听器","slug":"_6、一次性监听器","link":"#_6、一次性监听器","children":[]}]},{"level":2,"title":"三、watchEffect","slug":"三、watcheffect","link":"#三、watcheffect","children":[]},{"level":2,"title":"四、副作用清除","slug":"四、副作用清除","link":"#四、副作用清除","children":[]},{"level":2,"title":"五、手动停止监听器","slug":"五、手动停止监听器","link":"#五、手动停止监听器","children":[]}],"git":{"createdTime":1709132964000,"updatedTime":1709451708000,"contributors":[{"name":"zhanglinwei","email":"3498729975@qq.com","commits":4}]},"readingTime":{"minutes":4.06,"words":1219},"filePathRelative":"Use/Font/Vue3/WatchWatchEffect.md","localizedDate":"2024年2月28日"}');export{N as comp,W as data};
