import{_ as r,r as c,o,c as t,g as d,w as n,a as p,f as a,e as s}from"./app-Vg0IViah.js";const D={},k=p(`<h1 id="配置反向代理" tabindex="-1"><a class="header-anchor" href="#配置反向代理"><span>配置反向代理</span></a></h1><h2 id="一、普通方式" tabindex="-1"><a class="header-anchor" href="#一、普通方式"><span>一、普通方式</span></a></h2><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">server</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">    listen	</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">80;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">   </span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">    location</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> /api/user {</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">        proxy_pass </span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">http://127.0.0.1:8080/vueAdmin;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、upstream方式" tabindex="-1"><a class="header-anchor" href="#二、upstream方式"><span>二、upstream方式</span></a></h2><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">http</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">    upstream</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> my-server {</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">		server</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> 127.0.0.1:8080;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	}</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    </span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">	server</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">    	listen	</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">80;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">   </span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">    	location</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> /vueAdmin {</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">			proxy_pass </span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">http://my-server; </span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	}</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p><code>proxy_pass</code> 后边得斜线加和不加区别很大</p></div><h2 id="三、proxy-pass-说明" tabindex="-1"><a class="header-anchor" href="#三、proxy-pass-说明"><span>三、proxy_pass 说明</span></a></h2><p>如果<code>proxy_pass</code>后面没有任何URL路径信息（比如<code>/</code>，<code>/xxx</code>等），则反向代理的地址会包含<code>location</code>中的匹配部分，否则只会拼接匹配后的剩余路径</p><p><strong>假设请求：</strong> <code>http://localhost/online/wxapi/test/loginSwitch</code></p>`,9),h=s("div",{class:"language-nginx line-numbers-mode","data-ext":"nginx","data-title":"nginx"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# proxy_pass 结尾有 /")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"location"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," /online/wxapi/ {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	proxy_pass "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://localhost:8080/;")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# 代理后的实际地址：http://localhost:8080/test/loginSwitch")]),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),u=s("div",{class:"language-nginx line-numbers-mode","data-ext":"nginx","data-title":"nginx"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# proxy_pass 最后没有 /")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"location"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," /online/wxapi/ {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	proxy_pass "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://localhost:8080;")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# 代理后的实际地址：http://localhost:8080/online/wxapi/test/loginSwitch")]),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),v=s("div",{class:"language-nginx line-numbers-mode","data-ext":"nginx","data-title":"nginx"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# proxy_pass 最后有 /web")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"location"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," /online/wxapi/ {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	proxy_pass "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://localhost:8080/web;")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# 代理后的实际地址：http://localhost:8080/webtest/loginSwitch")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# 注意：因为是拼接剩余部分，所以路径中可能有单个词的拼接，比如webtest")]),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),m=s("div",{class:"language-nginx line-numbers-mode","data-ext":"nginx","data-title":"nginx"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# proxy_pass 最后有 /web/")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"location"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," /online/wxapi/ {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"	proxy_pass "),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"http://localhost:8080/web/;")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"# 代理后的实际地址：http://localhost:8080/web/test/loginSwitch")]),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1);function b(y,x){const e=c("CodeTabs");return o(),t("div",null,[k,d(e,{id:"25",data:[{id:"情况一"},{id:"情况二"},{id:"情况三"},{id:"情况四"}]},{title0:n(({value:i,isActive:l})=>[a("情况一")]),title1:n(({value:i,isActive:l})=>[a("情况二")]),title2:n(({value:i,isActive:l})=>[a("情况三")]),title3:n(({value:i,isActive:l})=>[a("情况四")]),tab0:n(({value:i,isActive:l})=>[h]),tab1:n(({value:i,isActive:l})=>[u]),tab2:n(({value:i,isActive:l})=>[v]),tab3:n(({value:i,isActive:l})=>[m]),_:1})])}const C=r(D,[["render",b],["__file","ReverseProxy.html.vue"]]),_=JSON.parse('{"path":"/Use/Java/Nginx/ReverseProxy.html","title":"配置反向代理","lang":"zh-CN","frontmatter":{"category":"使用篇"},"headers":[{"level":2,"title":"一、普通方式","slug":"一、普通方式","link":"#一、普通方式","children":[]},{"level":2,"title":"二、upstream方式","slug":"二、upstream方式","link":"#二、upstream方式","children":[]},{"level":2,"title":"三、proxy_pass 说明","slug":"三、proxy-pass-说明","link":"#三、proxy-pass-说明","children":[]}],"git":{"createdTime":1708330205000,"updatedTime":1708873062000,"contributors":[{"name":"zhanglinwei","email":"3498729975@qq.com","commits":2}]},"readingTime":{"minutes":0.87,"words":261},"filePathRelative":"Use/Java/Nginx/ReverseProxy.md","localizedDate":"2024年2月19日"}');export{C as comp,_ as data};
