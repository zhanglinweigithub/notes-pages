import{_ as s,o as a,c as D,a as n}from"./app-Vg0IViah.js";const i={},l=n(`<h1 id="querybuilders" tabindex="-1"><a class="header-anchor" href="#querybuilders"><span>QueryBuilders</span></a></h1><h2 id="一、基础查询" tabindex="-1"><a class="header-anchor" href="#一、基础查询"><span>一、基础查询</span></a></h2><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">SearchRequest</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> request</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#C586C0;--shiki-dark:#C586C0;">new</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> SearchRequest</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;user&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">SearchSourceBuilder</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> searchSourceBuilder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#C586C0;--shiki-dark:#C586C0;">new</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> SearchSourceBuilder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 构建查询语句</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">searchSourceBuilder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">query</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;zhang&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">request</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">source</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(searchSourceBuilder);</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">SearchResponse</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> response</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">client</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">search</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(request, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">RequestOptions</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">DEFAULT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">System</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">out</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">println</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">JSONObject</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">toJSON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(response));</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="match-all" tabindex="-1"><a class="header-anchor" href="#match-all"><span>match_all</span></a></h3><p>查询所有</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">matchAllQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="match" tabindex="-1"><a class="header-anchor" href="#match"><span>match</span></a></h3><p>全文检索、会对输入的内容分词，查询字段满足其中一个词即可</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">matchQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;zhanglinwei&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">       userName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%zhang%&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    or userName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%lin%&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    or userName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%wei%&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="multi-match" tabindex="-1"><a class="header-anchor" href="#multi-match"><span>multi_match</span></a></h3><p>全文检索、会对输入的内容分词，查询字段满足其中一个词即可</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">multiMatchQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;zhanglinwei&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;displayName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">       displayName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%zhang%&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> or displayName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%lin%&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> or displayName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%wei%&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">       displayName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%zhang%&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> or displayName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%lin%&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> or displayName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%wei%&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="term" tabindex="-1"><a class="header-anchor" href="#term"><span>term</span></a></h3><p>词条精确匹配</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;city&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;杭州&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> city</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;杭州&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="terms" tabindex="-1"><a class="header-anchor" href="#terms"><span>terms</span></a></h3><p>多值查询</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termsQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;zhang&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;lin&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;wei&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> userName </span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">in</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;zhang&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;lin&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;wei&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="prefix" tabindex="-1"><a class="header-anchor" href="#prefix"><span>prefix</span></a></h3><p>前缀查询</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">prefixQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;zhang&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> userName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;zhang%&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="wildcard" tabindex="-1"><a class="header-anchor" href="#wildcard"><span>wildcard</span></a></h3><p>通配符查询，<code>*</code>可以在任何位置</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">wildcardQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;zhang*lin&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">wildcardQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;*zhang&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">wildcardQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">,</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;*zhang*&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> userName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;zhang%lin&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> userName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%zhang&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> userName like </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;%zhang%&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="range" tabindex="-1"><a class="header-anchor" href="#range"><span>range</span></a></h3><p>范围查询</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">rangeQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;age&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">gte</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">10</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">lte</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">18</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> age BETWEEN </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">10</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> AND </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">18</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> age &gt;= </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">10</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;"> AND</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> age &lt;= </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">18</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、复合查询" tabindex="-1"><a class="header-anchor" href="#二、复合查询"><span>二、复合查询</span></a></h2><p>布尔查询<code>BoolQueryBuilder</code></p><ul><li><code>must</code> ： <code>must</code> 中的子查询== 必须匹配 ==，参与算分</li><li><code>must_not </code> ： <code>must_not</code> 中的子查询== 必须不匹配 ==，不参与算分</li><li><code>should</code> ：<code>should</code> 中的子查询满足任意<code>N</code>个即可，<code>N</code>可自行设置</li><li><code>filter</code> ：过滤符合条件的，不参与算分</li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">SearchRequest</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> request</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#C586C0;--shiki-dark:#C586C0;">new</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> SearchRequest</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;user&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">SearchSourceBuilder</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> searchSourceBuilder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#C586C0;--shiki-dark:#C586C0;">new</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;"> SearchSourceBuilder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">BoolQueryBuilder</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 构建查询语句</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">xxxxx</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">xxxxx</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// ...</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">searchSourceBuilder</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">query</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(boolQuery);</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">request</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">source</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(searchSourceBuilder);</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">SearchResponse</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> response</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">client</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">search</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(request, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">RequestOptions</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">DEFAULT</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">System</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">out</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">println</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">JSONObject</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">toJSON</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(response));</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="must" tabindex="-1"><a class="header-anchor" href="#must"><span>must</span></a></h3><p>必须匹配全部子查询，<code>and</code>连接</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">must</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;city&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;杭州&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">must</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">rangeQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;age&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">lte</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">25</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> city</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;杭州&#39;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;"> AND</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> age &lt;= </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">25</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="must-not" tabindex="-1"><a class="header-anchor" href="#must-not"><span>must_not</span></a></h3><p>必须不匹配全部子查询，<code>and</code>连接</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">mustNot</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;city&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;杭州&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">mustNot</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">rangeQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;age&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">lte</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">25</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> city != </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;杭州&#39;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;"> AND</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> age &gt; </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">25</span><span style="color:#6A9955;--shiki-dark:#6A9955;"> // 不小于等于,也就是大于</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="should" tabindex="-1"><a class="header-anchor" href="#should"><span>should</span></a></h3><p>子查询满足任意<code>N</code>个即可，<code>N</code>可自行设置，<code>or</code>连接</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">should</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;city&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;杭州&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">should</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">rangeQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;age&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">lte</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">25</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">minimumShouldMatch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">1</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">); </span><span style="color:#6A9955;--shiki-dark:#6A9955;">// should至少需要满足1个条件</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> city</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;杭州&#39;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;"> OR</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> age &lt;= </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">25</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="filter" tabindex="-1"><a class="header-anchor" href="#filter"><span>filter</span></a></h3><p><code>filter</code>不会对结果进行评分，能够提高查询效率</p><h4 id="_1、直接使用" tabindex="-1"><a class="header-anchor" href="#_1、直接使用"><span>1、直接使用</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">filter</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;sex&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;男&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sex</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;男&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2、和must、must-not同级" tabindex="-1"><a class="header-anchor" href="#_2、和must、must-not同级"><span>2、和must、must_not同级</span></a></h4><p>相当于子查询，也就是只会对满足查询条件的结果进行过滤</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">must</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;zhang&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">filter</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;sex&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;男&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">	SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> userName</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;zhang&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">) </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">WHERE</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sex</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;男&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3、在must、must-not上级" tabindex="-1"><a class="header-anchor" href="#_3、在must、must-not上级"><span>3、在must、must_not上级</span></a></h4><p>也就是没有算分这一说，直接过滤</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">().</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">filter</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">    QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">                .</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">must</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;zhang&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">                .</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">must</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">rangeQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;age&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">gte</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">20</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">).</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">lte</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">35</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">                .</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">mustNot</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;sex&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;男&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user </span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">    userName = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;zhang&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> and age &gt;=</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">20</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> and age &lt;= </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">35</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> and sex != </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;男&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="嵌套" tabindex="-1"><a class="header-anchor" href="#嵌套"><span>嵌套</span></a></h3><p><code>boolQuery</code>之间可以进行嵌套使用，相当于一个<code>boolQuery</code>下的全部子查询用<code>()</code>括起来了</p><p>组合就比较灵活了，例：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">BoolQueryBuilder</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">BoolQueryBuilder</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> mustBoolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">BoolQueryBuilder</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> mustNotBoolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">BoolQueryBuilder</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> shouldBoolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">mustBoolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">must</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;zhang&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">mustBoolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">must</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;sex&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;男&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">mustNotBoolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">mustNot</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;zhang&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">mustNotBoolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">mustNot</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;sex&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;男&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">shouldBoolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">should</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;userName&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;zhang&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">shouldBoolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">should</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">QueryBuilders</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">termQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;sex&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;男&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">shouldBoolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">minimumShouldMatch</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">1</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">must</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(mustBoolQuery);</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">mustNot</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(mustBoolQuery);</span></span>
<span class="line"><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">boolQuery</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">.</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">should</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(mustBoolQuery);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 相当于SQL</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">SELECT * </span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">FROM</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> user</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">    WHERE</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (userName = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;zhang&#39;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;"> AND</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sex</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;男&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">    AND</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (userName != </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;zhang&#39;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;"> AND</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> sex != </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;男&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">    AND</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> (userName = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;zhang&#39;</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;"> OR</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> sex</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> = </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;男&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,54),r=[l];function e(o,p){return a(),D("div",null,r)}const d=s(i,[["render",e],["__file","QueryBuilders.html.vue"]]),c=JSON.parse('{"path":"/Use/Java/ElasticSearch/QueryBuilders.html","title":"QueryBuilders","lang":"zh-CN","frontmatter":{"order":8,"category":"使用篇"},"headers":[{"level":2,"title":"一、基础查询","slug":"一、基础查询","link":"#一、基础查询","children":[{"level":3,"title":"match_all","slug":"match-all","link":"#match-all","children":[]},{"level":3,"title":"match","slug":"match","link":"#match","children":[]},{"level":3,"title":"multi_match","slug":"multi-match","link":"#multi-match","children":[]},{"level":3,"title":"term","slug":"term","link":"#term","children":[]},{"level":3,"title":"terms","slug":"terms","link":"#terms","children":[]},{"level":3,"title":"prefix","slug":"prefix","link":"#prefix","children":[]},{"level":3,"title":"wildcard","slug":"wildcard","link":"#wildcard","children":[]},{"level":3,"title":"range","slug":"range","link":"#range","children":[]}]},{"level":2,"title":"二、复合查询","slug":"二、复合查询","link":"#二、复合查询","children":[{"level":3,"title":"must","slug":"must","link":"#must","children":[]},{"level":3,"title":"must_not","slug":"must-not","link":"#must-not","children":[]},{"level":3,"title":"should","slug":"should","link":"#should","children":[]},{"level":3,"title":"filter","slug":"filter","link":"#filter","children":[]},{"level":3,"title":"嵌套","slug":"嵌套","link":"#嵌套","children":[]}]}],"git":{"createdTime":1708330205000,"updatedTime":1708873062000,"contributors":[{"name":"zhanglinwei","email":"3498729975@qq.com","commits":2}]},"readingTime":{"minutes":2.87,"words":860},"filePathRelative":"Use/Java/ElasticSearch/QueryBuilders.md","localizedDate":"2024年2月19日"}');export{d as comp,c as data};
