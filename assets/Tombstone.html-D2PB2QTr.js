import{_ as a,o as s,c as e,a as i}from"./app-Vg0IViah.js";const l={},n=i(`<h1 id="逻辑删除" tabindex="-1"><a class="header-anchor" href="#逻辑删除"><span>逻辑删除</span></a></h1><div class="hint-container tip"><p class="hint-container-title">提示</p><p>字段类型推荐使用 <code>Integer</code>,<code>Boolean</code></p><p>配置逻辑删除后：</p><ul><li>查找操作：会自动追加 <code>where</code> 条件，过滤掉已逻辑删除的数据。</li><li>更新操作：会自动追加 <code>where</code> 条件，防止更新到以逻辑删除的作用。</li><li>删除操作：会转变为更新操作。</li></ul></div><h2 id="一、配置使用" tabindex="-1"><a class="header-anchor" href="#一、配置使用"><span>一、配置使用</span></a></h2><h3 id="application-yaml" tabindex="-1"><a class="header-anchor" href="#application-yaml"><span>application.yaml</span></a></h3><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;"># application.yml</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">mybatis-plus</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">  global-config</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">    db-config</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">      logic-delete-field</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#CE9178;--shiki-dark:#CE9178;">deleted</span><span style="color:#6A9955;--shiki-dark:#6A9955;"> # 全局逻辑删除的实体字段名</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">      logic-delete-value</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">1</span><span style="color:#6A9955;--shiki-dark:#6A9955;"> # 逻辑已删除值(默认为 1)</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">      logic-not-delete-value</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">: </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">0</span><span style="color:#6A9955;--shiki-dark:#6A9955;"> # 逻辑未删除值(默认为 0)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="实体类" tabindex="-1"><a class="header-anchor" href="#实体类"><span>实体类</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">// 逻辑删除字段添加 @TableLogic 注解</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">@</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;">TableLogic</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6;">private</span><span style="color:#4EC9B0;--shiki-dark:#4EC9B0;"> Integer</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> deleted</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),o=[n];function r(d,c){return s(),e("div",null,o)}const t=a(l,[["render",r],["__file","Tombstone.html.vue"]]),D=JSON.parse('{"path":"/Use/Java/MyBatisPlus/Tombstone.html","title":"逻辑删除","lang":"zh-CN","frontmatter":{"category":"使用篇"},"headers":[{"level":2,"title":"一、配置使用","slug":"一、配置使用","link":"#一、配置使用","children":[{"level":3,"title":"application.yaml","slug":"application-yaml","link":"#application-yaml","children":[]},{"level":3,"title":"实体类","slug":"实体类","link":"#实体类","children":[]}]}],"git":{"createdTime":1708330205000,"updatedTime":1708873062000,"contributors":[{"name":"zhanglinwei","email":"3498729975@qq.com","commits":2}]},"readingTime":{"minutes":0.55,"words":165},"filePathRelative":"Use/Java/MyBatisPlus/Tombstone.md","localizedDate":"2024年2月19日"}');export{t as comp,D as data};
