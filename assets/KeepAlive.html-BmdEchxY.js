import{_ as k,r as e,o as c,c as t,e as s,f as a,g as r,w as l,a as o}from"./app-Vg0IViah.js";const d={},h=s("h1",{id:"keepalive",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#keepalive"},[s("span",null,"KeepAlive")])],-1),C=s("p",null,[s("code",null,"<KeepAlive>"),a(" 是一个内置组件，它的功能是在多个组件间动态切换时缓存被移除的组件实例")],-1),y=s("h2",{id:"一、调试器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#一、调试器"},[s("span",null,"一、调试器")])],-1),v={href:"https://play.vuejs.org/#eNp9kUFLwzAUx7/KM5cqzBXR0+gGKgP1oKKCl1xG99ZlpklIXuag9Lv7krK5w9it7//7v/SXthP3zo23EcVEVKH2yhEEpOhm0qjWWU/QgccV9LDytoWCq4U00tTWBII2NDBN/LJ4Qq0tfFuvlxfFlTRVORzHB/FA2Dq9IOQJoFrfzLouL/d9VfKUU2VcJNhet3aJeioFcymgZFiVR/tiJCjw61eqGW+CNWzepX0pats6pdG/OVKsJ8UEMklswXa/LzkjH3G0z+s11j8n8k3YpUyKd48B/RalODBa+AZpwPPPV9zx8wGyfdTcPgM/MFgdk+NQe4hmydpHvWz7nL+/Ms1XmO8ITdhfKommZp/7UvA/eTxz9X/d2/Fd3pOmF/0fEx+nNQ==",target:"_blank",rel:"noopener noreferrer"},u=o(`<h2 id="二、基本使用" tabindex="-1"><a class="header-anchor" href="#二、基本使用"><span>二、基本使用</span></a></h2><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">&lt;!-- 非活跃的组件将会被缓存！ --&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">KeepAlive</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  &lt;component :is=&quot;activeComponent&quot; /&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">KeepAlive</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例：</p>`,3),m=s("div",{class:"language-vue line-numbers-mode","data-ext":"vue","data-title":"vue"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," setup"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"import"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," { "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"shallowRef"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," } "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"from"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'vue'")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"import"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," CompA"),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}}," from"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," './CompA.vue'")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"import"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," CompB"),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}}," from"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," './CompB.vue'")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"const"),s("span",{style:{color:"#4FC1FF","--shiki-dark":"#4FC1FF"}}," current"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"shallowRef"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"CompA"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"div"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," class"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"demo"'),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"label"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"><"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"input"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," type"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"radio"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," v-model"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"current"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," :"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"value"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"CompA"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}}," />"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," A"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"label"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"label"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"><"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"input"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," type"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"radio"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," v-model"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"current"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," :"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"value"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"CompB"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}}," />"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," B"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"label"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"KeepAlive"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"      <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"component"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," :"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"is"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"current"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"></"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"component"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"    </"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"KeepAlive"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  </"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"div"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),E=s("div",{class:"language-vue line-numbers-mode","data-ext":"vue","data-title":"vue"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," setup"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"import"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," { "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"ref"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," } "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"from"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'vue'")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"const"),s("span",{style:{color:"#4FC1FF","--shiki-dark":"#4FC1FF"}}," count"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"ref"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}},"0"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"p"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"Current component: A"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"p"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"span"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"count: {{ "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"count"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," }}"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"span"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," @"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"click"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"count"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"++"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"+"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"button"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),b=s("div",{class:"language-vue line-numbers-mode","data-ext":"vue","data-title":"vue"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," setup"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"import"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," { "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"ref"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," } "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"from"),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}}," 'vue'")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"const"),s("span",{style:{color:"#4FC1FF","--shiki-dark":"#4FC1FF"}}," msg"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"ref"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},"''"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"script"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"<"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"p"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"Current component: B"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"p"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"span"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"Message is: {{ "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"msg"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," }}"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"span"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"  <"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"input"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," v-model"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"="),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"msg"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},'"'),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},"</"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"template"),s("span",{style:{color:"#808080","--shiki-dark":"#808080"}},">")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),F=o(`<h2 id="三、包含-排除" tabindex="-1"><a class="header-anchor" href="#三、包含-排除"><span>三、包含/排除</span></a></h2><p><code>&lt;KeepAlive&gt;</code> 默认会缓存内部的所有组件实例，但我们可以通过 <code>include</code> 和 <code>exclude</code> prop 来定制该行为。这两个 prop 的值都可以是一个以英文逗号分隔的字符串、一个正则表达式，或是包含这两种类型的一个数组：</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">&lt;!-- 以英文逗号分隔的字符串 --&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">KeepAlive</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> include</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&quot;a,b&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  &lt;component :is=&quot;view&quot; /&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">KeepAlive</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">&lt;!-- 正则表达式 (需使用 \`v-bind\`) --&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">KeepAlive</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> :</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">include</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#D16969;--shiki-dark:#D16969;">/a</span><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">|</span><span style="color:#D16969;--shiki-dark:#D16969;">b/</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  &lt;component :is=&quot;view&quot; /&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">KeepAlive</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">&lt;!-- 数组 (需使用 \`v-bind\`) --&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">KeepAlive</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> :</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">include</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">[</span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;a&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#CE9178;--shiki-dark:#CE9178;">&#39;b&#39;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">]</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  &lt;component :is=&quot;view&quot; /&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">KeepAlive</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>它会根据组件的 <code>name</code> 选项进行匹配，所以组件如果想要条件性地被 <code>KeepAlive</code> 缓存，就必须显式声明一个 <code>name</code> 选项</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p><code>3.2.34</code> 或以上的版本中，使用 <code>&lt;script setup&gt;</code> 的单文件组件会自动根据文件名生成对应的 <code>name</code> 选项，无需再手动声明</p></div><h2 id="四、最大缓存实例数" tabindex="-1"><a class="header-anchor" href="#四、最大缓存实例数"><span>四、最大缓存实例数</span></a></h2><p>通过传入 <code>max</code> prop 来限制可被缓存的最大组件实例数。</p><p><code>&lt;KeepAlive&gt;</code> 的行为在指定了 <code>max</code> 后类似一个 LRU 缓存：如果缓存的实例数量即将超过指定的那个最大数量，则最久没有被访问的缓存实例将被销毁，以便为新的实例腾出空间。</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">KeepAlive</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> :</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">max</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">=</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8;">10</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">&quot;</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">  &lt;component :is=&quot;activeComponent&quot; /&gt;</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">KeepAlive</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="五、缓存实例的生命周期" tabindex="-1"><a class="header-anchor" href="#五、缓存实例的生命周期"><span>五、缓存实例的生命周期</span></a></h2><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="shiki shiki-themes dark-plus dark-plus" style="background-color:#1E1E1E;--shiki-dark-bg:#1E1E1E;color:#D4D4D4;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;"> setup</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="color:#C586C0;--shiki-dark:#C586C0;">import</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> { </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">onActivated</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">, </span><span style="color:#9CDCFE;--shiki-dark:#9CDCFE;">onDeactivated</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> } </span><span style="color:#C586C0;--shiki-dark:#C586C0;">from</span><span style="color:#CE9178;--shiki-dark:#CE9178;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">onActivated</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(() </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">  // 调用时机为首次挂载</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">  // 以及每次从缓存中被重新插入时</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;--shiki-dark:#DCDCAA;">onDeactivated</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">(() </span><span style="color:#569CD6;--shiki-dark:#569CD6;">=&gt;</span><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">  // 在从 DOM 上移除、进入缓存</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955;">  // 以及组件卸载时调用</span></span>
<span class="line"><span style="color:#D4D4D4;--shiki-dark:#D4D4D4;">})</span></span>
<span class="line"><span style="color:#808080;--shiki-dark:#808080;">&lt;/</span><span style="color:#569CD6;--shiki-dark:#569CD6;">script</span><span style="color:#808080;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>这两个钩子不仅适用于 <code>&lt;KeepAlive&gt;</code> 缓存的根组件，也适用于缓存树中的后代组件</p></div>`,12);function A(g,x){const D=e("ExternalLinkIcon"),p=e("CodeTabs");return c(),t("div",null,[h,C,y,s("p",null,[s("a",v,[a("传送门"),r(D)])]),u,r(p,{id:"19",data:[{id:"App.vue"},{id:"CompA.vue"},{id:"CompB.vue"}]},{title0:l(({value:i,isActive:n})=>[a("App.vue")]),title1:l(({value:i,isActive:n})=>[a("CompA.vue")]),title2:l(({value:i,isActive:n})=>[a("CompB.vue")]),tab0:l(({value:i,isActive:n})=>[m]),tab1:l(({value:i,isActive:n})=>[E]),tab2:l(({value:i,isActive:n})=>[b]),_:1},8,["data"]),F])}const _=k(d,[["render",A],["__file","KeepAlive.html.vue"]]),K=JSON.parse('{"path":"/Use/Font/Vue3/KeepAlive.html","title":"KeepAlive","lang":"zh-CN","frontmatter":{"category":["使用篇"],"tag":["Vue3使用","KeepAlive"]},"headers":[{"level":2,"title":"一、调试器","slug":"一、调试器","link":"#一、调试器","children":[]},{"level":2,"title":"二、基本使用","slug":"二、基本使用","link":"#二、基本使用","children":[]},{"level":2,"title":"三、包含/排除","slug":"三、包含-排除","link":"#三、包含-排除","children":[]},{"level":2,"title":"四、最大缓存实例数","slug":"四、最大缓存实例数","link":"#四、最大缓存实例数","children":[]},{"level":2,"title":"五、缓存实例的生命周期","slug":"五、缓存实例的生命周期","link":"#五、缓存实例的生命周期","children":[]}],"git":{"createdTime":1709384965000,"updatedTime":1709384965000,"contributors":[{"name":"zhanglinwei","email":"3498729975@qq.com","commits":1}]},"readingTime":{"minutes":2.09,"words":628},"filePathRelative":"Use/Font/Vue3/KeepAlive.md","localizedDate":"2024年3月2日"}');export{_ as comp,K as data};
