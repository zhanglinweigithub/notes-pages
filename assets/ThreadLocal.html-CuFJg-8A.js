import{_ as n,r as o,o as k,c,g as C,w as l,a as e,f as D,e as s}from"./app-Vg0IViah.js";const t={},d=e('<h1 id="threadlocal" tabindex="-1"><a class="header-anchor" href="#threadlocal"><span>ThreadLocal</span></a></h1><div class="hint-container caution"><p class="hint-container-title">重要</p><p><code>ThreadLocal</code>使用过后一定要显示的调用一次<code>remove()</code>方法来清理<code>key=null</code>的<code>value</code>，否则容易造成内存溢出</p></div><h2 id="一、threadlocal实现上下文" tabindex="-1"><a class="header-anchor" href="#一、threadlocal实现上下文"><span>一、ThreadLocal实现上下文</span></a></h2><p>创建<code>Filter</code>拦截请求，从请求参数中、请求头中获取需要放入上下文的内容</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>套路就是这么个套路，根据实际情况进行调整</p></div>',5),p=s("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"java"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"@"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"Slf4j")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"@"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"Component"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"systemCodeFilter"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},")")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"public"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," class"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," SystemCodeFilter"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," implements"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," Filter"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    private"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," final"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," String"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," headerKey"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"your header key"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    private"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," final"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," String"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," paramKey"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"your param key"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    private"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," final"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," String"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," objectPrefix"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"{"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    private"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," final"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," String"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," arrayPrefix"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"["'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    @"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"Override")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    public"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," void"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," init"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"FilterConfig"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," filterConfig"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},") "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"throws"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," ServletException"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    @"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"Override")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    public"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," void"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," doFilter"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"ServletRequest"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," servletRequest"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"ServletResponse"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," servletResponse"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"FilterChain"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," filterChain"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},") "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"throws"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," IOException"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", "),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"ServletException"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"        try"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"            HttpServletRequest"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," httpServletRequest"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = (HttpServletRequest) servletRequest;")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"            String"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," systemCode"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"httpServletRequest"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"getHeader"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(headerKey);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"            CustomRequestWrapper"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," requestWrapper"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"null"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"            if"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," ("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"StringUtils"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"isNotEmpty"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(systemCode)) {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"                SystemCodeContext"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"setSystemCode"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"new"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," String"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"Base64"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"getDecoder"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"()."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"decode"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(systemCode)));")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            } "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"else"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"                if"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," ("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"RequestMethod"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"GET"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"name"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"()."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"equals"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"httpServletRequest"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"getMethod"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"())) {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"                    systemCode = "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"httpServletRequest"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"getParameter"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(paramKey);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"                } "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"else"),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}}," if"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," ("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"RequestMethod"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"POST"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"name"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"()."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"equals"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"httpServletRequest"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"getMethod"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"())) {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"                    requestWrapper = "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"new"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," CustomRequestWrapper"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(httpServletRequest);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"                    systemCode = "),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"parseRequestBody"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(requestWrapper);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"                }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"                if"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"StringUtils"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"isNotEmpty"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(systemCode)){")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"                    SystemCodeContext"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"setSystemCode"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(systemCode);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"                }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"            if"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," (requestWrapper == "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"null"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},") {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"                filterChain"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"doFilter"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(servletRequest, servletResponse);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            } "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"else"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"                // 如果requestWrapper不为null, 说明流已经被读取了, 返回我们自己的requestWrapper供后续@RequetBody读取")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"                filterChain"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"doFilter"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(requestWrapper, servletResponse);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"        }"),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"finally"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"            SystemCodeContext"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"clear"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"();")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"        }")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    private"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," String"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," parseRequestBody"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"CustomRequestWrapper"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," requestWrapper"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},") {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"        try"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"            String"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," requestBody"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"requestWrapper"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"getBody"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"();")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"            String"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," systemCode"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"null"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"            if"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," ("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"requestBody"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"startsWith"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(objectPrefix)) {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"                JSONObject"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," jsonObject"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"JSON"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"parseObject"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(requestBody);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"                systemCode = "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"jsonObject"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"getString"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(paramKey);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"            if"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," ("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"requestBody"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"startsWith"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(arrayPrefix)) {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"                JSONArray"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," jsonArray"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"JSON"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"parseArray"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(requestBody);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"                JSONObject"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," jsonObject"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = (JSONObject) "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"jsonArray"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"get"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#B5CEA8","--shiki-dark":"#B5CEA8"}},"0"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},");")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"                systemCode =  "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"jsonObject"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"getString"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(paramKey);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A9955","--shiki-dark":"#6A9955"}},"            // todo 如果你的数据结构是 { [], [] } 或 [ [], [] ] 等复杂结构, 可根据实际情况处理")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"            return"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," systemCode;")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"        } "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"catch"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," ("),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"Exception"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," e"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},") {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"            log"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"error"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#CE9178","--shiki-dark":"#CE9178"}},'"read requestBody fail"'),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},", e);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"        }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"        return"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," null"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    @"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"Override")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    public"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," void"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," destroy"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"() {")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),D(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),h=s("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"java"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"public"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," class"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," CustomRequestWrapper"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," extends"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," HttpServletRequestWrapper"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    private"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," byte"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"[] "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"body"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    public"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," CustomRequestWrapper"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"HttpServletRequest"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," request"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},") "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"throws"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," IOException"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"        super"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(request);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"        if"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"ServletFileUpload"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"isMultipartContent"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(request)){")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"            return"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"        }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"        StringBuilder"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," sb"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"new"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," StringBuilder"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"();")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"        String"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," line"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"        BufferedReader"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," reader"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"request"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"getReader"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"();")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"        while"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," ((line = "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"reader"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"readLine"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"()) != "),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"null"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},") {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"            sb"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"append"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(line);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"        }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"        String"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," body"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"sb"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"toString"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"();")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"        this"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"body"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"body"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"getBytes"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"StandardCharsets"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"UTF_8"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},");")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    public"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," String"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," getBody"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"() {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"        return"),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}}," new"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," String"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"this"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"body"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," , "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"StandardCharsets"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"UTF_8"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},") ;")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    ")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    @"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"Override")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    public"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," ServletInputStream"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," getInputStream"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"() {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"        final"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," ByteArrayInputStream"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," bais"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," = "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"new"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," ByteArrayInputStream"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(body);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"        return"),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}}," new"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," ServletInputStream"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"() {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            @"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"Override")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"            public"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," boolean"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," isFinished"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"() {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"                return"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," false"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            @"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"Override")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"            public"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," boolean"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," isReady"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"() {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"                return"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," false"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},";")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            @"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"Override")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"            public"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," void"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," setReadListener"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"ReadListener"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," readListener"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},") {")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            @"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"Override")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"            public"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," int"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," read"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(){")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"                return"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," bais"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"read"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"();")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"            }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"        };")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    ")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    @"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"Override")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    public"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," BufferedReader"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," getReader"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(){")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"        return"),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}}," new"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," BufferedReader"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"new"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," InputStreamReader"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"this"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"getInputStream"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"()));")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),D(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),y=s("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"java"},[s("pre",{class:"shiki shiki-themes dark-plus dark-plus",style:{"background-color":"#1E1E1E","--shiki-dark-bg":"#1E1E1E",color:"#D4D4D4","--shiki-dark":"#D4D4D4"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"public"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," class"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," SystemCodeContext"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}}," {")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    public"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," static"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," ThreadLocal"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"<"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"String"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"> "),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"systemCodeLocal"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"  = "),s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"new"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," ThreadLocal"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"<>();")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    public"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," static"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," void"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," setSystemCode"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"("),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}},"String"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," systemCode"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"){")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"        systemCodeLocal"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"set"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(systemCode);")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    public"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," static"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," String"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}}," get"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(){")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0","--shiki-dark":"#C586C0"}},"        return"),s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}}," systemCodeLocal"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"get"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"();")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}},"    public"),s("span",{style:{color:"#569CD6","--shiki-dark":"#569CD6"}}," static"),s("span",{style:{color:"#4EC9B0","--shiki-dark":"#4EC9B0"}}," void"),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"  clear"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"(){")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9CDCFE","--shiki-dark":"#9CDCFE"}},"        systemCodeLocal"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"."),s("span",{style:{color:"#DCDCAA","--shiki-dark":"#DCDCAA"}},"remove"),s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"();")]),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"    }")]),D(`
`),s("span",{class:"line"}),D(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4","--shiki-dark":"#D4D4D4"}},"}")]),D(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),E=e('<div class="hint-container info"><p class="hint-container-title">说明</p><p><code>CustomRequestWrapper</code>的作用：</p><ul><li>因为请求的流只能被读取一次，读取之后就没有了，在次读取会报错，所以我们自定义一个<code>Wrapper</code>将请求体内容保存起来，重复读取就返回之前保存的。</li><li>因为我们的<code>Controller</code>接口使用了<code>@RequestBody</code>注解来读取请求体中的数据，而<code>@RequestBody</code>也是从流中读取，并且<code>Filter</code>是先于<code>@RequestBody</code>注解执行的，所以为了避免后续读取报错，我们需要自定义一个<code>CustomRequestWrapper</code>来将<code>body</code>存储起来。</li></ul></div>',1);function u(A,m){const r=o("CodeTabs");return k(),c("div",null,[d,C(r,{id:"19",data:[{id:"SystemCodeFilter"},{id:"CustomRequestWrapper"},{id:"SystemCodeContext"}]},{title0:l(({value:a,isActive:i})=>[D("SystemCodeFilter")]),title1:l(({value:a,isActive:i})=>[D("CustomRequestWrapper")]),title2:l(({value:a,isActive:i})=>[D("SystemCodeContext")]),tab0:l(({value:a,isActive:i})=>[p]),tab1:l(({value:a,isActive:i})=>[h]),tab2:l(({value:a,isActive:i})=>[y]),_:1}),E])}const b=n(t,[["render",u],["__file","ThreadLocal.html.vue"]]),B=JSON.parse('{"path":"/Use/Java/Java/ThreadLocal.html","title":"ThreadLocal","lang":"zh-CN","frontmatter":{"category":"使用篇"},"headers":[{"level":2,"title":"一、ThreadLocal实现上下文","slug":"一、threadlocal实现上下文","link":"#一、threadlocal实现上下文","children":[]}],"git":{"createdTime":1708330205000,"updatedTime":1708873062000,"contributors":[{"name":"zhanglinwei","email":"3498729975@qq.com","commits":2}]},"readingTime":{"minutes":1.98,"words":594},"filePathRelative":"Use/Java/Java/ThreadLocal.md","localizedDate":"2024年2月19日"}');export{b as comp,B as data};
